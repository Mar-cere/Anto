{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T13:18:34.341Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T13:18:34.342Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T13:18:34.342Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T13:18:34.342Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T13:18:34.352Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T13:18:34.352Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T13:18:34.353Z"}
{"level":"info","message":"üöÄ Servidor corriendo en 0.0.0.0:5001","timestamp":"2025-12-01T13:18:34.360Z"}
{"level":"info","message":"üìù Ambiente: test","timestamp":"2025-12-01T13:18:34.360Z"}
{"level":"info","message":"üîó URL Frontend: http://localhost:3000","timestamp":"2025-12-01T13:18:34.360Z"}
{"level":"info","message":"üåê Servidor accesible desde: cualquier IP (Render)","timestamp":"2025-12-01T13:18:34.360Z"}
{"level":"info","message":"üîç Render detectado: S√≠","timestamp":"2025-12-01T13:18:34.360Z"}
{"level":"info","message":"‚úÖ Servicio de recordatorios de contactos de emergencia iniciado (cada 24 horas)","timestamp":"2025-12-01T13:18:34.360Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T13:18:34.431Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T13:18:34.431Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T13:20:03.548Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T13:20:03.549Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T13:20:03.549Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T13:20:03.550Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T13:20:03.559Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T13:20:03.560Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T13:20:03.560Z"}
{"level":"info","message":"üöÄ Servidor corriendo en 0.0.0.0:5001","timestamp":"2025-12-01T13:20:03.562Z"}
{"level":"info","message":"üìù Ambiente: test","timestamp":"2025-12-01T13:20:03.562Z"}
{"level":"info","message":"üîó URL Frontend: http://localhost:3000","timestamp":"2025-12-01T13:20:03.563Z"}
{"level":"info","message":"üåê Servidor accesible desde: cualquier IP (Render)","timestamp":"2025-12-01T13:20:03.563Z"}
{"level":"info","message":"üîç Render detectado: S√≠","timestamp":"2025-12-01T13:20:03.563Z"}
{"level":"info","message":"‚úÖ Servicio de recordatorios de contactos de emergencia iniciado (cada 24 horas)","timestamp":"2025-12-01T13:20:03.563Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T13:20:03.573Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T13:20:03.573Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T13:20:05.137Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T13:44:33.040Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T13:44:33.040Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T13:44:33.041Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T13:44:33.041Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T13:44:33.041Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T13:44:33.052Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T13:44:33.053Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T13:44:33.053Z"}
{"level":"info","message":"üöÄ Servidor corriendo en 0.0.0.0:5001","timestamp":"2025-12-01T13:44:33.056Z"}
{"level":"info","message":"üìù Ambiente: test","timestamp":"2025-12-01T13:44:33.056Z"}
{"level":"info","message":"üîó URL Frontend: http://localhost:3000","timestamp":"2025-12-01T13:44:33.057Z"}
{"level":"info","message":"üåê Servidor accesible desde: cualquier IP (Render)","timestamp":"2025-12-01T13:44:33.057Z"}
{"level":"info","message":"üîç Render detectado: S√≠","timestamp":"2025-12-01T13:44:33.057Z"}
{"level":"info","message":"‚úÖ Servicio de recordatorios de contactos de emergencia iniciado (cada 24 horas)","timestamp":"2025-12-01T13:44:33.057Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T13:44:33.041Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T13:44:33.041Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T13:44:33.041Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T13:44:33.052Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T13:44:33.052Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T13:44:33.053Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T13:44:33.128Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T13:44:33.128Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T13:44:33.129Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T13:44:33.129Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T13:44:33.910Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T13:44:34.619Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T14:22:26.163Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T14:22:26.166Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T14:22:26.166Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T14:22:26.167Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T14:22:26.167Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T14:22:26.167Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T14:22:26.169Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T14:22:26.169Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T14:22:26.169Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T14:22:26.169Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T14:22:26.170Z","userId":"123"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T14:22:26.174Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T14:22:27.453Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T14:22:27.454Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T14:22:27.454Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T14:22:27.454Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T14:22:27.454Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T14:22:27.465Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T14:22:27.465Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T14:22:27.466Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T14:22:27.455Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T14:22:27.455Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T14:22:27.455Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T14:22:27.465Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T14:22:27.466Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T14:22:27.466Z"}
{"level":"info","message":"üöÄ Servidor corriendo en 0.0.0.0:5001","timestamp":"2025-12-01T14:22:27.471Z"}
{"level":"info","message":"üìù Ambiente: test","timestamp":"2025-12-01T14:22:27.471Z"}
{"level":"info","message":"üîó URL Frontend: http://localhost:3000","timestamp":"2025-12-01T14:22:27.471Z"}
{"level":"info","message":"üåê Servidor accesible desde: cualquier IP (Render)","timestamp":"2025-12-01T14:22:27.471Z"}
{"level":"info","message":"üîç Render detectado: S√≠","timestamp":"2025-12-01T14:22:27.471Z"}
{"level":"info","message":"‚úÖ Servicio de recordatorios de contactos de emergencia iniciado (cada 24 horas)","timestamp":"2025-12-01T14:22:27.471Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T14:22:27.519Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T14:22:27.519Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T14:22:27.519Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T14:22:27.519Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T14:22:29.043Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T14:22:31.388Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T14:24:36.625Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T14:24:36.627Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T14:24:36.627Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T14:24:36.628Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T14:24:36.628Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T14:24:36.629Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T14:24:36.630Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T14:24:36.632Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T14:24:36.632Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T14:24:36.633Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T14:24:36.633Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T14:24:36.627Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T14:24:36.625Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T14:24:36.628Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T14:24:36.629Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T14:24:36.630Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T14:24:36.630Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T14:24:36.631Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T14:24:36.631Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T14:24:36.631Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T14:24:36.632Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T14:24:36.633Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T14:24:36.633Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T14:24:36.633Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T14:24:38.062Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T14:24:38.062Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T14:24:38.063Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T14:24:38.063Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T14:24:38.064Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T14:24:38.074Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T14:24:38.074Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T14:24:38.075Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T14:24:38.063Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T14:24:38.063Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T14:24:38.064Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T14:24:38.074Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T14:24:38.074Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T14:24:38.075Z"}
{"level":"info","message":"üöÄ Servidor corriendo en 0.0.0.0:5001","timestamp":"2025-12-01T14:24:38.077Z"}
{"level":"info","message":"üìù Ambiente: test","timestamp":"2025-12-01T14:24:38.077Z"}
{"level":"info","message":"üîó URL Frontend: http://localhost:3000","timestamp":"2025-12-01T14:24:38.078Z"}
{"level":"info","message":"üåê Servidor accesible desde: cualquier IP (Render)","timestamp":"2025-12-01T14:24:38.078Z"}
{"level":"info","message":"üîç Render detectado: S√≠","timestamp":"2025-12-01T14:24:38.078Z"}
{"level":"info","message":"‚úÖ Servicio de recordatorios de contactos de emergencia iniciado (cada 24 horas)","timestamp":"2025-12-01T14:24:38.078Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T14:24:38.147Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T14:24:38.147Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T14:24:38.147Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T14:24:38.147Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T14:24:39.649Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T14:24:44.961Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T14:36:53.678Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T14:36:53.675Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T14:36:53.681Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T14:36:53.683Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T14:36:53.684Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T14:36:53.684Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T14:36:53.684Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T14:36:53.685Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T14:36:53.685Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T14:36:53.686Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T14:36:53.686Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T14:36:53.686Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T14:36:53.686Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T14:36:53.728Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T14:36:53.730Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T14:36:53.730Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T14:36:53.731Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T14:36:53.732Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T14:36:53.732Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T14:36:53.733Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T14:36:53.733Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T14:36:53.734Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T14:36:53.734Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T14:36:53.734Z","userId":"123"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T14:36:54.877Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T14:36:54.878Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T14:36:54.878Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T14:36:54.878Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T14:36:54.888Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T14:36:54.888Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T14:36:54.889Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T14:36:54.877Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T14:36:54.878Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T14:36:54.878Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T14:36:54.879Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T14:36:54.888Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T14:36:54.889Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T14:36:54.889Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T14:36:54.930Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T14:36:54.930Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T14:36:54.930Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T14:36:54.930Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T14:36:56.458Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T14:37:01.807Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T14:55:16.082Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T14:55:16.090Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T14:55:16.092Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T14:55:16.094Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T14:55:16.094Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T14:55:16.095Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T14:55:16.097Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T14:55:16.098Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T14:55:16.099Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T14:55:16.099Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T14:55:16.099Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T14:55:16.206Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T14:55:16.204Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T14:55:16.208Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T14:55:16.210Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T14:55:16.212Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T14:55:16.212Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T14:55:16.213Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T14:55:16.213Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T14:55:16.213Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T14:55:16.216Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T14:55:16.216Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T14:55:16.216Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T14:55:16.216Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T14:55:17.893Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T14:55:17.894Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T14:55:17.894Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T14:55:17.894Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T14:55:17.895Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T14:55:17.895Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T14:55:17.906Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T14:55:17.907Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T14:55:17.908Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T14:55:17.895Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T14:55:17.895Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T14:55:17.895Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T14:55:17.907Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T14:55:17.908Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T14:55:17.908Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T14:55:17.894Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T14:55:17.895Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T14:55:17.895Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T14:55:17.907Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T14:55:17.907Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T14:55:17.908Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T14:55:17.969Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T14:55:17.969Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T14:55:17.969Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T14:55:17.969Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T14:55:17.969Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T14:55:17.969Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T14:55:18.614Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T14:55:19.485Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T14:55:24.798Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T14:58:00.243Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T14:58:00.249Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T14:58:00.250Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T14:58:00.251Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T14:58:00.252Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T14:58:00.252Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T14:58:00.259Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T14:58:00.261Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T14:58:00.262Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T14:58:00.263Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T14:58:00.263Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T14:58:00.409Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T14:58:00.408Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T14:58:00.411Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T14:58:00.414Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T14:58:00.414Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T14:58:00.414Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T14:58:00.415Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T14:58:00.415Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T14:58:00.415Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T14:58:00.415Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T14:58:00.415Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T14:58:00.415Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T14:58:00.415Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T14:58:01.561Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T14:58:01.560Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T14:58:01.559Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T14:58:01.560Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T14:58:01.561Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T14:58:01.561Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T14:58:01.574Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T14:58:01.574Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T14:58:01.574Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T14:58:01.562Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T14:58:01.562Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T14:58:01.562Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T14:58:01.573Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T14:58:01.574Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T14:58:01.574Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T14:58:01.560Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T14:58:01.560Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T14:58:01.560Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T14:58:01.571Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T14:58:01.572Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T14:58:01.572Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T14:58:01.589Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T14:58:01.589Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T14:58:01.589Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T14:58:01.589Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T14:58:01.589Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T14:58:01.589Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T14:58:02.188Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T14:58:03.146Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T14:58:08.409Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T15:01:31.866Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T15:01:31.869Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T15:01:31.869Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T15:01:31.870Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T15:01:31.870Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T15:01:31.871Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T15:01:31.872Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T15:01:31.873Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T15:01:31.873Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T15:01:31.873Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T15:01:31.874Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:01:32.008Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T15:01:32.005Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T15:01:32.010Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:01:32.011Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T15:01:32.011Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T15:01:32.011Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:01:32.012Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T15:01:32.012Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T15:01:32.012Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:01:32.012Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T15:01:32.012Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T15:01:32.012Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T15:01:32.013Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:01:33.219Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:01:33.220Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:01:33.222Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:01:33.220Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:01:33.220Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:01:33.221Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:01:33.231Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:01:33.232Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:01:33.232Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:01:33.221Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:01:33.222Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:01:33.222Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:01:33.232Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:01:33.233Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:01:33.233Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:01:33.222Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:01:33.223Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:01:33.223Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:01:33.234Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:01:33.234Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:01:33.235Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:01:33.265Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:01:33.265Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:01:33.265Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:01:33.265Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:01:33.265Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:01:33.265Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:01:34.069Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:01:34.806Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:01:40.246Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T15:04:57.503Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T15:04:57.510Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T15:04:57.511Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T15:04:57.512Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T15:04:57.513Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T15:04:57.514Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T15:04:57.515Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T15:04:57.517Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T15:04:57.518Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T15:04:57.520Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T15:04:57.520Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:04:57.655Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T15:04:57.653Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T15:04:57.657Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:04:57.658Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T15:04:57.659Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T15:04:57.659Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:04:57.660Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T15:04:57.661Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T15:04:57.661Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:04:57.662Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T15:04:57.662Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T15:04:57.662Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T15:04:57.663Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:04:58.896Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:04:58.896Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:04:58.898Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:04:58.897Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:04:58.897Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:04:58.897Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:04:58.911Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:04:58.911Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:04:58.912Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:04:58.897Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:04:58.897Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:04:58.898Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:04:58.909Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:04:58.909Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:04:58.910Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:04:58.901Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:04:58.901Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:04:58.902Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:04:58.912Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:04:58.913Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:04:58.913Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:04:58.947Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:04:58.948Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:04:58.948Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:04:58.948Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:04:58.948Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:04:58.948Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:04:59.675Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:05:00.486Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:05:05.736Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:08:36.526Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:08:36.527Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:08:36.527Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:08:36.527Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:08:36.540Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:08:36.540Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:08:36.540Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:08:36.526Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:08:36.527Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:08:36.527Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:08:36.528Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:08:36.544Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:08:36.544Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:08:36.546Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:08:36.527Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:08:36.582Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:08:36.583Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:08:36.582Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:08:36.536Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:08:36.537Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:08:36.537Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:08:36.570Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:08:36.570Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:08:36.571Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:08:36.541Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:08:36.583Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:08:36.542Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:08:36.543Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:08:36.543Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:08:36.567Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:08:36.568Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:08:36.568Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:08:36.604Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:08:36.604Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:08:36.609Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:08:36.609Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:08:36.600Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:08:36.601Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:08:36.602Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:08:36.603Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:08:36.621Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:08:36.622Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:08:36.622Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:08:36.660Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:08:36.661Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:08:36.809Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:08:36.810Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:08:36.810Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:08:36.811Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:08:36.820Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:08:36.820Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:08:36.820Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:08:36.826Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:08:36.826Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:08:36.834Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:08:36.835Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:08:36.835Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:08:36.835Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:08:36.843Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:08:36.843Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:08:36.843Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:08:36.853Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:08:36.854Z"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"Route not found","method":"GET","path":"/api/therapeutic-techniques/immediate","timestamp":"2025-12-01T15:08:37.189Z"}
{"context":{"ip":"::ffff:127.0.0.1","method":"GET","path":"/api/therapeutic-techniques/immediate","url":"/api/therapeutic-techniques/immediate"},"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: GET /api/therapeutic-techniques/immediate","name":"AppError","stack":"AppError: Ruta no encontrada: GET /api/therapeutic-techniques/immediate\n    at notFoundHandler (/Users/marceloull/Documents/Anto/backend/middleware/errorHandler.js:135:17)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:794:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:676:5"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:08:37.190Z"}
{"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: GET /api/therapeutic-techniques/immediate","name":"AppError","statusCode":404,"timestamp":"2025-12-01T15:08:37.189Z"},"level":"error","message":"Error response sent","method":"GET","path":"/api/therapeutic-techniques/immediate","statusCode":404,"timestamp":"2025-12-01T15:08:37.191Z"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"Route not found","method":"GET","path":"/api/therapeutic-techniques/cbt","timestamp":"2025-12-01T15:08:37.200Z"}
{"context":{"ip":"::ffff:127.0.0.1","method":"GET","path":"/api/therapeutic-techniques/cbt","url":"/api/therapeutic-techniques/cbt"},"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: GET /api/therapeutic-techniques/cbt","name":"AppError","stack":"AppError: Ruta no encontrada: GET /api/therapeutic-techniques/cbt\n    at notFoundHandler (/Users/marceloull/Documents/Anto/backend/middleware/errorHandler.js:135:17)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:794:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:676:5"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:08:37.200Z"}
{"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: GET /api/therapeutic-techniques/cbt","name":"AppError","statusCode":404,"timestamp":"2025-12-01T15:08:37.200Z"},"level":"error","message":"Error response sent","method":"GET","path":"/api/therapeutic-techniques/cbt","statusCode":404,"timestamp":"2025-12-01T15:08:37.200Z"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"Route not found","method":"GET","path":"/api/therapeutic-techniques/dbt","timestamp":"2025-12-01T15:08:37.227Z"}
{"context":{"ip":"::ffff:127.0.0.1","method":"GET","path":"/api/therapeutic-techniques/dbt","url":"/api/therapeutic-techniques/dbt"},"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: GET /api/therapeutic-techniques/dbt","name":"AppError","stack":"AppError: Ruta no encontrada: GET /api/therapeutic-techniques/dbt\n    at notFoundHandler (/Users/marceloull/Documents/Anto/backend/middleware/errorHandler.js:135:17)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:794:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:676:5"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:08:37.227Z"}
{"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: GET /api/therapeutic-techniques/dbt","name":"AppError","statusCode":404,"timestamp":"2025-12-01T15:08:37.227Z"},"level":"error","message":"Error response sent","method":"GET","path":"/api/therapeutic-techniques/dbt","statusCode":404,"timestamp":"2025-12-01T15:08:37.227Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:08:37.229Z"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"Route not found","method":"GET","path":"/api/therapeutic-techniques/act","timestamp":"2025-12-01T15:08:37.241Z"}
{"context":{"ip":"::ffff:127.0.0.1","method":"GET","path":"/api/therapeutic-techniques/act","url":"/api/therapeutic-techniques/act"},"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: GET /api/therapeutic-techniques/act","name":"AppError","stack":"AppError: Ruta no encontrada: GET /api/therapeutic-techniques/act\n    at notFoundHandler (/Users/marceloull/Documents/Anto/backend/middleware/errorHandler.js:135:17)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:794:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:676:5"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:08:37.242Z"}
{"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: GET /api/therapeutic-techniques/act","name":"AppError","statusCode":404,"timestamp":"2025-12-01T15:08:37.241Z"},"level":"error","message":"Error response sent","method":"GET","path":"/api/therapeutic-techniques/act","statusCode":404,"timestamp":"2025-12-01T15:08:37.242Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:08:37.256Z"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"Route not found","method":"GET","path":"/api/habits/692daf75be17d072fdd36a79","timestamp":"2025-12-01T15:08:37.322Z"}
{"context":{"ip":"::ffff:127.0.0.1","method":"GET","path":"/api/habits/692daf75be17d072fdd36a79","url":"/api/habits/692daf75be17d072fdd36a79","userId":"692daf75be17d072fdd36a77"},"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: GET /api/habits/692daf75be17d072fdd36a79","name":"AppError","stack":"AppError: Ruta no encontrada: GET /api/habits/692daf75be17d072fdd36a79\n    at notFoundHandler (/Users/marceloull/Documents/Anto/backend/middleware/errorHandler.js:135:17)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:265:14)\n    at next (/Users/marceloull/Documents/Anto/backend/middleware/auth.js:81:5)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:794:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:676:5"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:08:37.324Z"}
{"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: GET /api/habits/692daf75be17d072fdd36a79","name":"AppError","statusCode":404,"timestamp":"2025-12-01T15:08:37.322Z"},"level":"error","message":"Error response sent","method":"GET","path":"/api/habits/692daf75be17d072fdd36a79","statusCode":404,"timestamp":"2025-12-01T15:08:37.325Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:08:37.443Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:08:37.473Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:08:37.743Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T15:08:37.734Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T15:08:37.736Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T15:08:37.736Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T15:08:37.738Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T15:08:37.738Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T15:08:37.739Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T15:08:37.740Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T15:08:37.741Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T15:08:37.742Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T15:08:37.742Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T15:08:37.743Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:08:37.776Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T15:08:37.775Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T15:08:37.777Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:08:37.780Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T15:08:37.781Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T15:08:37.781Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:08:37.781Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T15:08:37.782Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T15:08:37.782Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:08:37.782Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T15:08:37.782Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T15:08:37.782Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T15:08:37.784Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:08:38.404Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:08:43.483Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:16:56.936Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:16:56.938Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:16:56.938Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:16:56.939Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:16:56.963Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:16:56.963Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:16:56.964Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:16:56.992Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:16:56.994Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:16:56.994Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:16:56.995Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:16:57.022Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:16:57.023Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:16:57.025Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:16:57.020Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:16:57.024Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:16:57.026Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:16:57.028Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:16:57.049Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:16:57.050Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:16:57.051Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:16:57.091Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:16:57.091Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:16:57.094Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:16:57.091Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:16:57.091Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:16:57.095Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:16:57.085Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:16:57.088Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:16:57.089Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:16:57.089Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:16:57.113Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:16:57.113Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:16:57.114Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:16:57.133Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:16:57.086Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:16:57.134Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:16:57.088Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:16:57.088Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:16:57.090Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:16:57.128Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:16:57.129Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:16:57.129Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:16:57.145Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:16:57.145Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:16:57.357Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:16:57.358Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:16:57.358Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:16:57.358Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:16:57.366Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:16:57.366Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:16:57.366Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:16:57.374Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:16:57.375Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:16:57.428Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:16:57.429Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:16:57.429Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:16:57.430Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:16:57.440Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:16:57.441Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:16:57.442Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:16:57.451Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:16:57.451Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:16:57.788Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:16:57.809Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:16:57.855Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:16:58.139Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:16:58.151Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T15:16:58.320Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T15:16:58.322Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T15:16:58.323Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T15:16:58.323Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T15:16:58.324Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T15:16:58.324Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T15:16:58.325Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T15:16:58.326Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T15:16:58.326Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T15:16:58.326Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T15:16:58.326Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:16:58.328Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T15:16:58.326Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T15:16:58.329Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:16:58.330Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T15:16:58.330Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T15:16:58.330Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:16:58.331Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T15:16:58.331Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T15:16:58.331Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:16:58.331Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T15:16:58.331Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T15:16:58.331Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T15:16:58.331Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:16:58.606Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:17:03.962Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:27:43.818Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:27:43.822Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:27:43.823Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:27:43.823Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:27:43.843Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:27:43.844Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:27:43.844Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:27:43.863Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:27:43.863Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:27:43.843Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:27:43.833Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:27:43.844Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:27:43.845Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:27:43.845Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:27:43.865Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:27:43.866Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:27:43.866Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:27:43.879Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:27:43.834Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:27:43.835Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:27:43.835Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:27:43.857Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:27:43.858Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:27:43.859Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:27:43.876Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:27:43.876Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:27:43.879Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:27:43.890Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:27:43.891Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:27:43.891Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:27:43.891Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:27:43.907Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:27:43.908Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:27:43.908Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:27:43.890Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:27:43.891Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:27:43.891Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:27:43.891Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:27:43.911Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:27:43.911Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:27:43.912Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:27:43.933Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:27:43.933Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:27:43.936Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:27:43.936Z"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"Route not found","method":"GET","path":"/api/payments/subscription/status","timestamp":"2025-12-01T15:27:44.515Z"}
{"context":{"ip":"::ffff:127.0.0.1","method":"GET","path":"/api/payments/subscription/status","url":"/api/payments/subscription/status"},"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: GET /api/payments/subscription/status","name":"AppError","stack":"AppError: Ruta no encontrada: GET /api/payments/subscription/status\n    at notFoundHandler (/Users/marceloull/Documents/Anto/backend/middleware/errorHandler.js:135:17)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:794:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:676:5"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:27:44.519Z"}
{"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: GET /api/payments/subscription/status","name":"AppError","statusCode":404,"timestamp":"2025-12-01T15:27:44.515Z"},"level":"error","message":"Error response sent","method":"GET","path":"/api/payments/subscription/status","statusCode":404,"timestamp":"2025-12-01T15:27:44.519Z"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"Route not found","method":"GET","path":"/api/payments/subscription/status","timestamp":"2025-12-01T15:27:44.548Z"}
{"context":{"ip":"::ffff:127.0.0.1","method":"GET","path":"/api/payments/subscription/status","url":"/api/payments/subscription/status"},"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: GET /api/payments/subscription/status","name":"AppError","stack":"AppError: Ruta no encontrada: GET /api/payments/subscription/status\n    at notFoundHandler (/Users/marceloull/Documents/Anto/backend/middleware/errorHandler.js:135:17)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:794:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:676:5"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:27:44.548Z"}
{"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: GET /api/payments/subscription/status","name":"AppError","statusCode":404,"timestamp":"2025-12-01T15:27:44.548Z"},"level":"error","message":"Error response sent","method":"GET","path":"/api/payments/subscription/status","statusCode":404,"timestamp":"2025-12-01T15:27:44.549Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:27:44.810Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:27:44.912Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:27:44.941Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:27:45.010Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:27:45.012Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:27:45.012Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:27:45.013Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:27:45.029Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:27:45.029Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:27:45.030Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:27:45.046Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:27:45.046Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:27:45.054Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:27:45.133Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:27:45.622Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:27:45.624Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:27:45.624Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:27:45.625Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:27:45.641Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:27:45.641Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:27:45.642Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:27:45.664Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:27:45.664Z"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"Route not found","method":"POST","path":"/api/cloudinary/upload","timestamp":"2025-12-01T15:27:45.718Z"}
{"context":{"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/cloudinary/upload","url":"/api/cloudinary/upload"},"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: POST /api/cloudinary/upload","name":"AppError","stack":"AppError: Ruta no encontrada: POST /api/cloudinary/upload\n    at notFoundHandler (/Users/marceloull/Documents/Anto/backend/middleware/errorHandler.js:135:17)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:794:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:676:5"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:27:45.719Z"}
{"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: POST /api/cloudinary/upload","name":"AppError","statusCode":404,"timestamp":"2025-12-01T15:27:45.717Z"},"level":"error","message":"Error response sent","method":"POST","path":"/api/cloudinary/upload","statusCode":404,"timestamp":"2025-12-01T15:27:45.720Z"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"Route not found","method":"POST","path":"/api/cloudinary/upload","timestamp":"2025-12-01T15:27:45.823Z"}
{"context":{"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/cloudinary/upload","url":"/api/cloudinary/upload"},"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: POST /api/cloudinary/upload","name":"AppError","stack":"AppError: Ruta no encontrada: POST /api/cloudinary/upload\n    at notFoundHandler (/Users/marceloull/Documents/Anto/backend/middleware/errorHandler.js:135:17)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:794:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:676:5"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:27:45.824Z"}
{"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: POST /api/cloudinary/upload","name":"AppError","statusCode":404,"timestamp":"2025-12-01T15:27:45.823Z"},"level":"error","message":"Error response sent","method":"POST","path":"/api/cloudinary/upload","statusCode":404,"timestamp":"2025-12-01T15:27:45.824Z"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"Route not found","method":"DELETE","path":"/api/cloudinary/test-public-id","timestamp":"2025-12-01T15:27:45.898Z"}
{"context":{"ip":"::ffff:127.0.0.1","method":"DELETE","path":"/api/cloudinary/test-public-id","url":"/api/cloudinary/test-public-id"},"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: DELETE /api/cloudinary/test-public-id","name":"AppError","stack":"AppError: Ruta no encontrada: DELETE /api/cloudinary/test-public-id\n    at notFoundHandler (/Users/marceloull/Documents/Anto/backend/middleware/errorHandler.js:135:17)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:794:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:676:5"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:27:45.898Z"}
{"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: DELETE /api/cloudinary/test-public-id","name":"AppError","statusCode":404,"timestamp":"2025-12-01T15:27:45.898Z"},"level":"error","message":"Error response sent","method":"DELETE","path":"/api/cloudinary/test-public-id","statusCode":404,"timestamp":"2025-12-01T15:27:45.899Z"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"Route not found","method":"DELETE","path":"/api/cloudinary/","timestamp":"2025-12-01T15:27:45.942Z"}
{"context":{"ip":"::ffff:127.0.0.1","method":"DELETE","path":"/api/cloudinary/","url":"/api/cloudinary/"},"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: DELETE /api/cloudinary/","name":"AppError","stack":"AppError: Ruta no encontrada: DELETE /api/cloudinary/\n    at notFoundHandler (/Users/marceloull/Documents/Anto/backend/middleware/errorHandler.js:135:17)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:794:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:676:5"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:27:45.942Z"}
{"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: DELETE /api/cloudinary/","name":"AppError","statusCode":404,"timestamp":"2025-12-01T15:27:45.941Z"},"level":"error","message":"Error response sent","method":"DELETE","path":"/api/cloudinary/","statusCode":404,"timestamp":"2025-12-01T15:27:45.943Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:27:45.970Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:27:46.419Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:27:46.421Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:27:46.421Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:27:46.422Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:27:46.452Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:27:46.452Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:27:46.453Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:27:46.523Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:27:46.524Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:27:47.002Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:27:47.005Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:27:47.006Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:27:47.006Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:27:47.053Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:27:47.053Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:27:47.053Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:27:47.053Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:27:47.055Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:27:47.055Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:27:47.055Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:27:47.085Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:27:47.086Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:27:47.096Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:27:47.113Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:27:47.116Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:27:47.129Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:27:47.129Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:27:47.487Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:27:47.489Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:27:47.489Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:27:47.490Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:27:47.511Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:27:47.511Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:27:47.512Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:27:47.526Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T15:27:47.524Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T15:27:47.528Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:27:47.531Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T15:27:47.531Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T15:27:47.532Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:27:47.533Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T15:27:47.533Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T15:27:47.533Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:27:47.534Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T15:27:47.534Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T15:27:47.535Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T15:27:47.535Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:27:47.542Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:27:47.543Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T15:27:47.551Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T15:27:47.552Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T15:27:47.552Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T15:27:47.554Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T15:27:47.556Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T15:27:47.557Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T15:27:47.559Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T15:27:47.560Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T15:27:47.561Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T15:27:47.561Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T15:27:47.561Z","userId":"123"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:27:47.786Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:27:47.865Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:27:48.054Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:27:48.126Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:27:52.954Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:34:48.458Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:34:48.459Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:34:48.463Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:34:48.464Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:34:48.464Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:34:48.488Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:34:48.489Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:34:48.491Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:34:48.454Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:34:48.464Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:34:48.464Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:34:48.465Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:34:48.495Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:34:48.495Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:34:48.496Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:34:48.464Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:34:48.464Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:34:48.465Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:34:48.487Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:34:48.489Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:34:48.490Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:34:48.511Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:34:48.463Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:34:48.466Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:34:48.466Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:34:48.467Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:34:48.501Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:34:48.503Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:34:48.505Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:34:48.514Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:34:48.514Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:34:48.511Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:34:48.515Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:34:48.517Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:34:48.517Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:34:48.456Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:34:48.464Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:34:48.464Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:34:48.465Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:34:48.511Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:34:48.511Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:34:48.512Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:34:48.514Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:34:48.535Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:34:48.535Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:34:48.494Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:34:48.506Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:34:48.507Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:34:48.507Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:34:48.537Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:34:48.538Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:34:48.539Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:34:48.560Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:34:48.560Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:34:49.291Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:34:49.355Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:34:49.357Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:34:49.358Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:34:49.358Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:34:49.372Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:34:49.373Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:34:49.373Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:34:49.389Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:34:49.389Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:34:49.507Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:34:49.511Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:34:49.527Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:34:49.556Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:34:49.607Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:34:50.702Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:34:50.707Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:34:50.708Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:34:50.709Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:34:50.727Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:34:50.728Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:34:50.730Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:34:50.753Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:34:50.754Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:34:51.138Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:34:51.139Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:34:51.140Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:34:51.141Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:34:51.154Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:34:51.155Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:34:51.157Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:34:51.185Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:34:51.186Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:34:51.341Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:34:51.342Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:34:51.343Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:34:51.343Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:34:51.363Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:34:51.363Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:34:51.364Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:34:51.380Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:34:51.381Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:34:51.435Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:34:51.413Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T15:34:51.424Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T15:34:51.436Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:34:51.438Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T15:34:51.438Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T15:34:51.439Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:34:51.439Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T15:34:51.439Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T15:34:51.439Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:34:51.441Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T15:34:51.442Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T15:34:51.442Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T15:34:51.444Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:34:51.414Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:34:51.415Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:34:51.416Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:34:51.439Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:34:51.439Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:34:51.440Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:34:51.463Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:34:51.463Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T15:34:51.552Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T15:34:51.553Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T15:34:51.553Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T15:34:51.554Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T15:34:51.555Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T15:34:51.555Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T15:34:51.556Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T15:34:51.556Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T15:34:51.557Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T15:34:51.557Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T15:34:51.557Z","userId":"123"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:34:51.764Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:34:52.145Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:34:52.154Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:34:52.337Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:34:56.493Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:39:19.943Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:39:19.944Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:39:19.944Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:39:19.945Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:39:19.968Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:39:19.970Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:39:19.971Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:39:19.954Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:39:19.955Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:39:19.956Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:39:19.957Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:39:19.977Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:39:19.979Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:39:19.981Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:39:19.999Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:39:19.999Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:39:19.999Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:39:20.000Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:39:19.995Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:39:19.996Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:39:19.996Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:39:19.997Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:39:20.022Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:39:20.022Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:39:20.023Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:39:20.012Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:39:20.013Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:39:20.014Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:39:20.015Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:39:20.035Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:39:20.036Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:39:20.037Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:39:20.051Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:39:20.052Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:39:20.028Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:39:20.029Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:39:20.029Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:39:20.030Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:39:20.049Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:39:20.052Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:39:20.052Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:39:20.058Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:39:20.058Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:39:20.078Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:39:20.078Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:39:20.305Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:39:20.306Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:39:20.306Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:39:20.307Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:39:20.317Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:39:20.318Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:39:20.319Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:39:20.326Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:39:20.326Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:39:20.716Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:39:20.718Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:39:20.718Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:39:20.718Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:39:20.730Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:39:20.730Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:39:20.732Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:39:20.746Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:39:20.747Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:39:20.860Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:39:21.075Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:39:21.107Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:39:21.148Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:39:21.152Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:39:22.094Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:39:22.465Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:39:22.466Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:39:22.467Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:39:22.467Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:39:22.494Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:39:22.496Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:39:22.498Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:39:22.549Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:39:22.550Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:39:23.572Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:39:23.759Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:39:23.763Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:39:23.763Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:39:23.764Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:39:23.812Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:39:23.813Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:39:23.819Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:39:23.911Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:39:23.912Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:39:24.001Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:39:24.013Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:39:24.014Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:39:24.015Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:39:24.076Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:39:24.077Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:39:24.078Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:39:24.220Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:39:24.223Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:39:24.224Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:39:24.226Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:39:24.267Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:39:24.277Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:39:24.280Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:39:24.831Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:39:24.841Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:39:24.761Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:39:24.761Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:39:26.296Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:39:26.366Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T15:39:26.475Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T15:39:26.477Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T15:39:26.477Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T15:39:26.485Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T15:39:26.485Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T15:39:26.486Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T15:39:26.514Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T15:39:26.516Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T15:39:26.517Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T15:39:26.517Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T15:39:26.517Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:39:26.517Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T15:39:26.511Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T15:39:26.518Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:39:26.521Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T15:39:26.521Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T15:39:26.522Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:39:26.522Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T15:39:26.523Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T15:39:26.523Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:39:26.524Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T15:39:26.524Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T15:39:26.524Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T15:39:26.525Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:39:26.766Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:39:28.135Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:43:15.023Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:43:15.023Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:43:15.025Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:43:15.026Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:43:15.026Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:43:15.039Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:43:15.039Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:43:15.039Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:43:15.026Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:43:15.026Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:43:15.026Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:43:15.039Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:43:15.040Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:43:15.041Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:43:15.054Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:43:15.054Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:43:15.052Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:43:15.052Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:43:15.049Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:43:15.050Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:43:15.050Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:43:15.050Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:43:15.062Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:43:15.063Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:43:15.064Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:43:15.077Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:43:15.077Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:43:15.065Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:43:15.066Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:43:15.067Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:43:15.067Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:43:15.083Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:43:15.084Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:43:15.085Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:43:15.073Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:43:15.074Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:43:15.074Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:43:15.075Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:43:15.090Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:43:15.090Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:43:15.091Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:43:15.102Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:43:15.102Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:43:15.084Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:43:15.110Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:43:15.085Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:43:15.086Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:43:15.086Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:43:15.102Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:43:15.102Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:43:15.103Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:43:15.111Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:43:15.118Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:43:15.118Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:43:16.066Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:43:16.116Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:43:16.119Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:43:16.166Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:43:16.666Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:43:16.785Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:43:16.786Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:43:16.787Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:43:16.788Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:43:16.810Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:43:16.811Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:43:16.812Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:43:16.906Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:43:16.907Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:43:17.471Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:43:17.473Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:43:17.474Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:43:17.474Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:43:17.488Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:43:17.488Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:43:17.489Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:43:17.500Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:43:17.501Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:43:17.533Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:43:17.534Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:43:17.534Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:43:17.534Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:43:17.551Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:43:17.551Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:43:17.553Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:43:17.580Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:43:17.580Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:43:17.595Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:43:17.611Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:43:17.614Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:43:17.616Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:43:17.617Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:43:17.628Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:43:17.629Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:43:17.629Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:43:17.683Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:43:17.683Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:43:18.261Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:43:18.406Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:43:18.514Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:43:18.659Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T15:43:18.658Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T15:43:18.660Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:43:18.663Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T15:43:18.663Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T15:43:18.663Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:43:18.664Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T15:43:18.664Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T15:43:18.664Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:43:18.665Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T15:43:18.665Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T15:43:18.665Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T15:43:18.665Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T15:43:18.791Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T15:43:18.795Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T15:43:18.795Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T15:43:18.796Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T15:43:18.796Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T15:43:18.797Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T15:43:18.798Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T15:43:18.798Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T15:43:18.810Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T15:43:18.811Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T15:43:18.811Z","userId":"123"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:43:22.320Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:55:37.164Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:55:37.171Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:55:37.175Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:55:37.175Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:55:37.176Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:55:37.193Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:55:37.194Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:55:37.196Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:55:37.175Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:55:37.175Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:55:37.176Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:55:37.191Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:55:37.192Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:55:37.194Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:55:37.222Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:55:37.174Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:55:37.226Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:55:37.222Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:55:37.226Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:55:37.175Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:55:37.175Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:55:37.176Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:55:37.213Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:55:37.215Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:55:37.216Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:55:37.240Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:55:37.241Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:55:37.233Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:55:37.234Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:55:37.234Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:55:37.235Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:55:37.249Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:55:37.250Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:55:37.251Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:55:37.269Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:55:37.269Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:55:37.403Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:55:37.405Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:55:37.405Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:55:37.405Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:55:37.414Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:55:37.414Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:55:37.415Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:55:37.421Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:55:37.421Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:55:37.515Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:55:37.516Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:55:37.516Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:55:37.516Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:55:37.523Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:55:37.523Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:55:37.524Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:55:37.530Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:55:37.530Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:55:38.007Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:55:38.026Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:55:38.213Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:55:38.268Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:55:38.929Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:55:38.931Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:55:38.932Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:55:38.933Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:55:38.950Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:55:38.951Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:55:38.951Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:55:38.975Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:55:38.975Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:55:39.005Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:55:39.205Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:55:39.206Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:55:39.206Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:55:39.207Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:55:39.217Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:55:39.217Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:55:39.218Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:55:39.224Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:55:39.224Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:55:39.269Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:55:39.270Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:55:39.270Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:55:39.271Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:55:39.278Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:55:39.279Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:55:39.279Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:55:39.286Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:55:39.286Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:55:39.649Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:55:39.842Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:55:39.843Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:55:39.843Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:55:39.844Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:55:39.870Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:55:39.871Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:55:39.872Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:55:39.889Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:55:39.890Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:55:39.989Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:55:40.010Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:55:40.516Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T15:55:40.493Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T15:55:40.495Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T15:55:40.496Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T15:55:40.499Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T15:55:40.500Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T15:55:40.501Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T15:55:40.503Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T15:55:40.504Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T15:55:40.504Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T15:55:40.504Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T15:55:40.505Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:55:40.592Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T15:55:40.591Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T15:55:40.593Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:55:40.597Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T15:55:40.598Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T15:55:40.598Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:55:40.598Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T15:55:40.599Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T15:55:40.599Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:55:40.599Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T15:55:40.600Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T15:55:40.600Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T15:55:40.600Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:55:41.049Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:55:41.050Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:55:41.050Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:55:41.050Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:55:41.057Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:55:41.058Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:55:41.058Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:55:41.065Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:55:41.065Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:55:41.748Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:55:44.165Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:00:06.300Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:00:06.301Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:00:06.302Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:00:06.303Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:00:06.318Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:00:06.319Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:00:06.319Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:00:06.341Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:00:06.341Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:00:06.320Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:00:06.322Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:00:06.322Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:00:06.323Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:00:06.343Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:00:06.344Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:00:06.345Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:00:06.331Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:00:06.332Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:00:06.333Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:00:06.334Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:00:06.351Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:00:06.351Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:00:06.352Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:00:06.365Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:00:06.337Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:00:06.338Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:00:06.338Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:00:06.338Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:00:06.354Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:00:06.355Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:00:06.356Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:00:06.369Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:00:06.365Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:00:06.370Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:00:06.380Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:00:06.380Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:00:06.572Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:00:06.573Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:00:06.573Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:00:06.573Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:00:06.580Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:00:06.581Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:00:06.581Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:00:06.587Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:00:06.588Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:00:06.630Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:00:06.630Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:00:06.631Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:00:06.631Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:00:06.638Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:00:06.638Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:00:06.638Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:00:06.646Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:00:06.647Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:00:07.225Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:00:07.304Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:00:07.460Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:00:08.100Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:00:08.101Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:00:08.101Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:00:08.102Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:00:08.111Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:00:08.111Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:00:08.112Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:00:08.124Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:00:08.124Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:00:08.129Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:00:08.217Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:00:08.218Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:00:08.218Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:00:08.218Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:00:08.225Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:00:08.226Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:00:08.226Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:00:08.255Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:00:08.256Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:00:08.726Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:00:08.748Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:00:08.813Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:00:08.923Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:00:08.925Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:00:08.925Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:00:08.926Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:00:08.946Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:00:08.947Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:00:08.948Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:00:08.975Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:00:08.975Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:00:09.730Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:00:09.733Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:00:09.733Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:00:09.734Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:00:09.760Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:00:09.760Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:00:09.761Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:00:09.781Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:00:09.781Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:00:10.013Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:00:10.005Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:00:10.007Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:00:10.008Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:00:10.009Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:00:10.037Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:00:10.037Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:00:10.038Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:00:10.047Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:00:10.047Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T16:00:10.299Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T16:00:10.306Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T16:00:10.308Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T16:00:10.311Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T16:00:10.312Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T16:00:10.312Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T16:00:10.314Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T16:00:10.316Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T16:00:10.317Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T16:00:10.318Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T16:00:10.318Z","userId":"123"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:00:10.461Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:00:10.466Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T16:00:10.465Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T16:00:10.468Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:00:10.471Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T16:00:10.472Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T16:00:10.472Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:00:10.473Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T16:00:10.473Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T16:00:10.473Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:00:10.474Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T16:00:10.474Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T16:00:10.474Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T16:00:10.474Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:00:10.773Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:00:13.270Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:07:57.211Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:07:57.212Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:07:57.212Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:07:57.212Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:07:57.224Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:07:57.225Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:07:57.225Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:07:57.247Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:07:57.248Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:07:57.250Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:07:57.249Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:07:57.251Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:07:57.252Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:07:57.252Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:07:57.272Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:07:57.273Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:07:57.273Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:07:57.250Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:07:57.250Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:07:57.251Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:07:57.251Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:07:57.271Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:07:57.272Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:07:57.273Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:07:57.285Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:07:57.252Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:07:57.252Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:07:57.252Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:07:57.273Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:07:57.274Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:07:57.276Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:07:57.285Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:07:57.268Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:07:57.269Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:07:57.270Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:07:57.270Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:07:57.285Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:07:57.285Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:07:57.286Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:07:57.295Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:07:57.296Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:07:57.297Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:07:57.295Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:07:57.296Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:07:57.298Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:07:57.768Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:07:57.769Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:07:57.770Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:07:57.770Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:07:57.777Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:07:57.778Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:07:57.778Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:07:57.788Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:07:57.788Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:07:58.220Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:07:58.484Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:07:58.570Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:07:58.860Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:07:59.001Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:07:59.001Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:07:59.002Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:07:59.002Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:07:59.014Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:07:59.014Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:07:59.014Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:07:59.052Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:07:59.052Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:07:59.517Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:07:59.518Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:07:59.519Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:07:59.519Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:07:59.544Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:07:59.544Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:07:59.545Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:07:59.567Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:07:59.567Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:07:59.671Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:07:59.672Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:07:59.672Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:07:59.673Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:07:59.686Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:07:59.686Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:07:59.687Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:07:59.719Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:07:59.719Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:07:59.871Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:08:00.137Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:08:00.421Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:08:00.719Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:08:00.720Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:08:00.720Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:08:00.720Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:08:00.737Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:08:00.738Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:08:00.738Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:08:00.748Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:08:00.748Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:08:01.057Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:08:01.058Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:08:01.059Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:08:01.060Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:08:01.083Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:08:01.083Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:08:01.085Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:08:01.099Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:08:01.099Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:08:01.383Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:08:01.389Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T16:08:01.750Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T16:08:01.751Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T16:08:01.752Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T16:08:01.752Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T16:08:01.753Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T16:08:01.753Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T16:08:01.754Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T16:08:01.754Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T16:08:01.755Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T16:08:01.755Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T16:08:01.755Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:08:01.760Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T16:08:01.759Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T16:08:01.761Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:08:01.762Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T16:08:01.763Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T16:08:01.763Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:08:01.763Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T16:08:01.763Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T16:08:01.763Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:08:01.763Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T16:08:01.763Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T16:08:01.764Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T16:08:01.764Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:08:01.779Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:08:04.107Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:38:02.315Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:38:02.316Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:38:02.317Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:38:02.318Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:38:02.340Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:38:02.341Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:38:02.342Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:38:02.341Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:38:02.344Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:38:02.345Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:38:02.346Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:38:02.364Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:38:02.365Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:38:02.365Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:38:02.355Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:38:02.357Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:38:02.358Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:38:02.358Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:38:02.382Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:38:02.383Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:38:02.384Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:38:02.368Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:38:02.369Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:38:02.369Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:38:02.370Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:38:02.398Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:38:02.399Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:38:02.400Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:38:02.376Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:38:02.386Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:38:02.377Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:38:02.378Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:38:02.378Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:38:02.401Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:38:02.402Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:38:02.403Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:38:02.388Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:38:02.388Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:38:02.388Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:38:02.414Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:38:02.414Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:38:02.415Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:38:02.386Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:38:02.388Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:38:02.390Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:38:02.391Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:38:02.419Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:38:02.420Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:38:02.420Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:38:02.503Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:38:02.503Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:38:02.503Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:38:02.504Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:38:02.505Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:38:02.506Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:38:02.506Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:38:02.503Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:38:02.503Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:38:02.505Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:38:02.504Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:38:02.507Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:38:02.504Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:38:02.506Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:38:03.200Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:38:03.255Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:38:03.798Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:38:04.000Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:38:04.057Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:38:04.058Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:38:04.058Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:38:04.058Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:38:04.070Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:38:04.070Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:38:04.071Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:38:04.081Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:38:04.081Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:38:04.136Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:38:04.136Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:38:04.137Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:38:04.137Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:38:04.153Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:38:04.153Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:38:04.154Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:38:04.168Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:38:04.169Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:38:04.682Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:38:05.133Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:38:05.133Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:38:05.134Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:38:05.134Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:38:05.143Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:38:05.143Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:38:05.144Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:38:05.155Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:38:05.156Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:38:05.249Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:38:05.310Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:38:05.312Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:38:05.312Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:38:05.312Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:38:05.321Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:38:05.321Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:38:05.322Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:38:05.331Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:38:05.331Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:38:05.773Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:38:06.091Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T16:38:06.632Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T16:38:06.634Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T16:38:06.634Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T16:38:06.635Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T16:38:06.635Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T16:38:06.635Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T16:38:06.636Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T16:38:06.637Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T16:38:06.637Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T16:38:06.637Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T16:38:06.637Z","userId":"123"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:38:06.764Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:38:06.851Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T16:38:06.849Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T16:38:06.852Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:38:06.853Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T16:38:06.853Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T16:38:06.853Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:38:06.854Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T16:38:06.854Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T16:38:06.854Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:38:06.854Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T16:38:06.854Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T16:38:06.854Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T16:38:06.855Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:38:09.439Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:38:33.391Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:45:11.390Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:45:11.390Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:45:11.392Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:45:11.392Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:45:11.392Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:45:11.412Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:45:11.412Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:45:11.412Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:45:11.389Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:45:11.392Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:45:11.392Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:45:11.393Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:45:11.411Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:45:11.412Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:45:11.412Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:45:11.392Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:45:11.392Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:45:11.392Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:45:11.414Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:45:11.414Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:45:11.415Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:45:11.391Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:45:11.392Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:45:11.392Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:45:11.392Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:45:11.414Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:45:11.414Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:45:11.415Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:45:11.404Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:45:11.400Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:45:11.401Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:45:11.401Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:45:11.404Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:45:11.424Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:45:11.425Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:45:11.425Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:45:11.406Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:45:11.406Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:45:11.407Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:45:11.427Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:45:11.429Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:45:11.429Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:45:11.494Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:45:11.494Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:45:11.494Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:45:11.496Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:45:11.496Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:45:11.496Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:45:11.494Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:45:11.494Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:45:11.494Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:45:11.496Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:45:11.497Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:45:11.496Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:45:12.227Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:45:12.467Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:45:12.894Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:45:13.007Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:45:13.170Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:45:13.171Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:45:13.171Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:45:13.172Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:45:13.180Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:45:13.180Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:45:13.181Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:45:13.195Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:45:13.195Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:45:13.362Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:45:13.363Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:45:13.363Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:45:13.363Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:45:13.375Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:45:13.375Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:45:13.376Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:45:13.382Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:45:13.382Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:45:13.763Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:45:13.764Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:45:13.764Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:45:13.764Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:45:13.773Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:45:13.773Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:45:13.773Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:45:13.782Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:45:13.782Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:45:13.807Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:45:13.808Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:45:13.808Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:45:13.809Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:45:13.817Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:45:13.817Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:45:13.818Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:45:13.825Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:45:13.825Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:45:13.897Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:45:14.027Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:45:14.427Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:45:14.436Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:45:14.705Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:45:14.705Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:45:14.705Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:45:14.706Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:45:14.713Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:45:14.714Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:45:14.714Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:45:14.728Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:45:14.728Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:45:15.338Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:45:15.415Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T16:45:15.414Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T16:45:15.417Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:45:15.418Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T16:45:15.418Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T16:45:15.419Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:45:15.419Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T16:45:15.419Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T16:45:15.420Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:45:15.420Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T16:45:15.420Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T16:45:15.420Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T16:45:15.421Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:45:15.515Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T16:45:15.530Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T16:45:15.531Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T16:45:15.532Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T16:45:15.533Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T16:45:15.533Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T16:45:15.534Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T16:45:15.535Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T16:45:15.535Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T16:45:15.536Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T16:45:15.536Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T16:45:15.536Z","userId":"123"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:45:18.316Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:49:47.190Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:49:47.191Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:49:47.192Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:49:47.192Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:49:47.209Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:49:47.210Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:49:47.210Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:49:47.228Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:49:47.228Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:49:47.216Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:49:47.218Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:49:47.218Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:49:47.219Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:49:47.239Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:49:47.240Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:49:47.241Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:49:47.224Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:49:47.225Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:49:47.225Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:49:47.226Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:49:47.256Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:49:47.256Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:49:47.257Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:49:47.226Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:49:47.227Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:49:47.227Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:49:47.227Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:49:47.253Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:49:47.254Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:49:47.254Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:49:47.270Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:49:47.270Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:49:47.273Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:49:47.271Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:49:47.271Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:49:47.273Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:49:47.270Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:49:47.272Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:49:47.273Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:49:47.273Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:49:47.289Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:49:47.289Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:49:47.291Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:49:47.317Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:49:47.318Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:49:47.787Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:49:47.788Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:49:47.788Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:49:47.789Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:49:47.799Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:49:47.800Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:49:47.801Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:49:47.811Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:49:47.811Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:49:48.166Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:49:48.518Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:49:48.611Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:49:48.833Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:49:49.388Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:49:49.389Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:49:49.390Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:49:49.390Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:49:49.422Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:49:49.422Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:49:49.423Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:49:49.430Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:49:49.430Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:49:49.507Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:49:49.508Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:49:49.508Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:49:49.509Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:49:49.521Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:49:49.521Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:49:49.522Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:49:49.528Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:49:49.528Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:49:49.688Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:49:49.688Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:49:49.689Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:49:49.689Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:49:49.696Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:49:49.696Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:49:49.696Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:49:49.702Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:49:49.702Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:49:50.134Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:49:50.198Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:49:50.352Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:49:50.800Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:49:50.801Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:49:50.801Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:49:50.801Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:49:50.810Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:49:50.810Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:49:50.810Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:49:50.819Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:49:50.820Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:49:51.104Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:49:51.105Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:49:51.105Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:49:51.106Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:49:51.117Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:49:51.117Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:49:51.118Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:49:51.128Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:49:51.128Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:49:51.326Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:49:51.439Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T16:49:51.671Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T16:49:51.673Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T16:49:51.673Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T16:49:51.674Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T16:49:51.674Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T16:49:51.675Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T16:49:51.676Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T16:49:51.676Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T16:49:51.677Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T16:49:51.677Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T16:49:51.677Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:49:51.697Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T16:49:51.696Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T16:49:51.698Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:49:51.700Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T16:49:51.700Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T16:49:51.701Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:49:51.701Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T16:49:51.701Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T16:49:51.701Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:49:51.702Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T16:49:51.702Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T16:49:51.702Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T16:49:51.705Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:49:51.727Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:49:54.146Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T16:58:35.730Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T16:58:35.733Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T16:58:35.734Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T16:58:35.736Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T16:58:35.736Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T16:58:35.737Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T16:58:35.738Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T16:58:35.738Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T16:58:35.739Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T16:58:35.739Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T16:58:35.739Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:58:35.862Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T16:58:35.860Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T16:58:35.864Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:58:35.865Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T16:58:35.865Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T16:58:35.866Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:58:35.866Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T16:58:35.866Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T16:58:35.866Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:58:35.867Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T16:58:35.867Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T16:58:35.867Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T16:58:35.867Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T17:06:36.169Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T17:06:36.156Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T17:06:36.174Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T17:06:36.184Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T17:06:36.185Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T17:06:36.186Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T17:06:36.189Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T17:06:36.190Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T17:06:36.190Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T17:06:36.191Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T17:06:36.192Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T17:06:36.192Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T17:06:36.193Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T17:06:36.284Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T17:06:36.295Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T17:06:36.297Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T17:06:36.300Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T17:06:36.302Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T17:06:36.303Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T17:06:36.309Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T17:06:36.311Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T17:06:36.312Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T17:06:36.324Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T17:06:36.325Z","userId":"123"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:07:12.958Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:07:12.974Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:07:12.975Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:07:12.976Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:07:13.197Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:07:13.253Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:07:13.284Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:07:13.040Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:07:13.122Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:07:13.123Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:07:13.124Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:07:13.341Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:07:13.344Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:07:13.358Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:07:13.190Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:07:13.206Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:07:13.208Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:07:13.244Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:07:13.680Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:07:13.834Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:07:13.850Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:07:13.125Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:07:13.193Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:07:13.195Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:07:13.196Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:07:13.644Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:07:13.657Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:07:13.660Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:07:14.384Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:07:14.440Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:07:14.442Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:07:14.457Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:07:14.606Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:07:14.607Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:07:14.614Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:07:14.953Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:07:14.959Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:07:14.961Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:07:14.962Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:07:15.047Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:07:15.049Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:07:15.053Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:07:15.349Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:07:15.363Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:07:15.369Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:07:15.370Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:07:15.416Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:07:15.350Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:07:15.364Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:07:15.409Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:07:15.698Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:07:15.422Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:07:15.699Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:07:15.573Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:07:16.533Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:07:16.542Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:07:16.543Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:07:16.545Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:07:17.092Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:07:17.095Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:07:17.099Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:07:18.923Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:07:18.924Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:07:21.513Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:07:26.413Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:07:30.816Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:07:31.572Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:07:31.580Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:07:31.582Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:07:31.599Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:07:31.830Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:07:31.837Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:07:31.840Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:07:32.076Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:07:32.323Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:07:32.324Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:07:33.993Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:07:33.996Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:07:33.997Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:07:33.999Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:07:34.081Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:07:34.089Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:07:34.091Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:07:34.784Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:07:34.786Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:07:44.044Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:08:08.002Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:08:08.087Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:08:08.089Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:08:08.093Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:08:08.455Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:08:08.458Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:08:08.463Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:08:09.306Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:08:10.683Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:08:10.685Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:08:16.439Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:08:17.668Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:08:17.674Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:08:17.675Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:08:17.677Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:08:18.058Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:08:18.092Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:08:18.133Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:08:21.614Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:08:21.820Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:08:25.327Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:08:41.125Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:08:46.082Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:08:54.773Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:32:10.659Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:32:10.660Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:32:10.662Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:32:10.663Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:32:10.684Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:32:10.684Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:32:10.685Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:32:10.715Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:32:10.715Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:32:10.682Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:32:10.685Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:32:10.686Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:32:10.686Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:32:10.713Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:32:10.714Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:32:10.725Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:32:10.769Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:32:10.769Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:32:10.723Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:32:10.712Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:32:10.725Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:32:10.726Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:32:10.726Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:32:10.759Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:32:10.761Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:32:10.762Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:32:10.714Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:32:10.714Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:32:10.715Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:32:10.779Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:32:10.780Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:32:10.780Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:32:10.789Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:32:10.790Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:32:10.756Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:32:10.761Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:32:10.761Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:32:10.762Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:32:10.790Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:32:10.791Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:32:10.793Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:32:10.763Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:32:10.768Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:32:10.768Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:32:10.768Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:32:10.796Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:32:10.797Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:32:10.798Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:32:10.852Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:32:10.852Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:32:10.853Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:32:10.853Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:32:10.853Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:32:10.854Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:32:11.380Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:32:11.622Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:32:11.623Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:32:11.624Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:32:11.624Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:32:11.633Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:32:11.633Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:32:11.633Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:32:11.650Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:32:11.650Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:32:11.916Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:32:11.943Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:32:12.163Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:32:12.488Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:32:12.485Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:32:12.486Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:32:12.486Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:32:12.487Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:32:12.498Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:32:12.499Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:32:12.499Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:32:12.509Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:32:12.509Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:32:13.384Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:32:13.385Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:32:13.385Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:32:13.385Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:32:13.397Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:32:13.398Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:32:13.399Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:32:13.410Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:32:13.411Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:32:13.436Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:32:13.436Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:32:13.437Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:32:13.437Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:32:13.454Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:32:13.454Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:32:13.456Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:32:13.484Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:32:13.484Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:32:13.552Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:32:13.622Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:32:13.623Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:32:13.623Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:32:13.624Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:32:13.631Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:32:13.632Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:32:13.632Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:32:13.640Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:32:13.640Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:32:14.080Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:32:14.224Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T17:32:14.532Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T17:32:14.529Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T17:32:14.534Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T17:32:14.535Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T17:32:14.536Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T17:32:14.536Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T17:32:14.536Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T17:32:14.536Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T17:32:14.536Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T17:32:14.537Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T17:32:14.537Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T17:32:14.537Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T17:32:14.537Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T17:32:14.577Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T17:32:14.578Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T17:32:14.578Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T17:32:14.579Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T17:32:14.579Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T17:32:14.579Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T17:32:14.583Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T17:32:14.583Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T17:32:14.584Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T17:32:14.584Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T17:32:14.584Z","userId":"123"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:32:14.997Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:32:15.241Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:32:18.733Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T19:50:32.088Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T19:50:32.089Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T19:50:32.089Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T19:50:32.089Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T19:50:32.104Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T19:50:32.105Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T19:50:32.105Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T19:50:32.147Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T19:50:32.149Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T19:50:32.149Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T19:50:32.149Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T19:50:32.173Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T19:50:32.174Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T19:50:32.175Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T19:50:32.187Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T19:50:32.188Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T19:50:32.188Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T19:50:32.189Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T19:50:32.202Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T19:50:32.203Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T19:50:32.204Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T19:50:32.218Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T19:50:32.219Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T19:50:32.219Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T19:50:32.219Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T19:50:32.219Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T19:50:32.219Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T19:50:32.202Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T19:50:32.205Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T19:50:32.206Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T19:50:32.206Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T19:50:32.231Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T19:50:32.232Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T19:50:32.233Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T19:50:32.255Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T19:50:32.256Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T19:50:32.214Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T19:50:32.239Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T19:50:32.240Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T19:50:32.240Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T19:50:32.240Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T19:50:32.258Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T19:50:32.259Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T19:50:32.260Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T19:50:32.216Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T19:50:32.216Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T19:50:32.217Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T19:50:32.255Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T19:50:32.256Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T19:50:32.256Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T19:50:32.249Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T19:50:32.271Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T19:50:32.250Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T19:50:32.251Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T19:50:32.251Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T19:50:32.263Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T19:50:32.264Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T19:50:32.264Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T19:50:32.272Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T19:50:32.271Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T19:50:32.277Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T19:50:32.272Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T19:50:32.277Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T19:50:32.811Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T19:50:33.175Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T19:50:33.192Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T19:50:33.336Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T19:50:33.750Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T19:50:33.790Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T19:50:33.791Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T19:50:33.791Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T19:50:33.792Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T19:50:33.801Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T19:50:33.801Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T19:50:33.805Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T19:50:33.821Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T19:50:33.821Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T19:50:34.351Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T19:50:34.352Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T19:50:34.353Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T19:50:34.353Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T19:50:34.369Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T19:50:34.370Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T19:50:34.378Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T19:50:34.412Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T19:50:34.412Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T19:50:34.531Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T19:50:34.533Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T19:50:34.534Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T19:50:34.536Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T19:50:34.566Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T19:50:34.567Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T19:50:34.567Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T19:50:34.611Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T19:50:34.611Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T19:50:34.938Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T19:50:34.939Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T19:50:34.939Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T19:50:34.939Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T19:50:34.950Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T19:50:34.951Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T19:50:34.951Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T19:50:34.971Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T19:50:34.971Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T19:50:35.103Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T19:50:35.177Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T19:50:35.408Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T19:50:35.546Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T19:50:36.141Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T19:50:36.139Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T19:50:36.142Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T19:50:36.144Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T19:50:36.144Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T19:50:36.144Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T19:50:36.145Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T19:50:36.145Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T19:50:36.146Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T19:50:36.146Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T19:50:36.147Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T19:50:36.147Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T19:50:36.148Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T19:50:36.214Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T19:50:36.215Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T19:50:36.218Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T19:50:36.221Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T19:50:36.222Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T19:50:36.222Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T19:50:36.223Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T19:50:36.224Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T19:50:36.224Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T19:50:36.224Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T19:50:36.224Z","userId":"123"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T19:50:36.526Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T19:50:39.212Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:05:51.274Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:05:51.277Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:05:51.278Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:05:51.279Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:05:51.300Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:05:51.301Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:05:51.302Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:05:51.282Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:05:51.284Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:05:51.285Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:05:51.286Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:05:51.310Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:05:51.311Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:05:51.314Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:05:51.293Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:05:51.294Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:05:51.294Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:05:51.294Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:05:51.321Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:05:51.321Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:05:51.322Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:05:51.348Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:05:51.348Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:05:51.351Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:05:51.316Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:05:51.349Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:05:51.318Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:05:51.318Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:05:51.319Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:05:51.343Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:05:51.343Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:05:51.344Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:05:51.348Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:05:51.351Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:05:51.361Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:05:51.363Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:05:51.334Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:05:51.337Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:05:51.338Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:05:51.338Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:05:51.370Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:05:51.371Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:05:51.372Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:05:51.354Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:05:51.355Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:05:51.356Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:05:51.356Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:05:51.381Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:05:51.382Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:05:51.382Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:05:51.411Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:05:51.414Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:05:51.411Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:05:51.414Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:05:51.978Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:05:51.979Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:05:51.979Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:05:51.980Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:05:51.990Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:05:51.991Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:05:51.991Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:05:52.004Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:05:52.005Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:05:52.213Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:05:52.213Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:05:52.445Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:05:52.712Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:05:52.899Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:05:53.419Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:05:53.421Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:05:53.421Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:05:53.422Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:05:53.435Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:05:53.436Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:05:53.436Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:05:53.469Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:05:53.469Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:05:53.983Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:05:53.984Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:05:53.984Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:05:53.985Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:05:54.013Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:05:54.014Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:05:54.015Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:05:54.085Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:05:54.085Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:05:54.271Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:05:54.273Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:05:54.273Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:05:54.273Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:05:54.288Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:05:54.288Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:05:54.288Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:05:54.304Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:05:54.304Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:05:54.413Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:05:54.413Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:05:54.414Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:05:54.414Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:05:54.423Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:05:54.423Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:05:54.424Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:05:54.430Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:05:54.430Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:05:54.769Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:05:54.919Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:05:55.008Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:05:55.097Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T20:05:55.604Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T20:05:55.602Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T20:05:55.606Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T20:05:55.607Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T20:05:55.608Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T20:05:55.608Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T20:05:55.608Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T20:05:55.609Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T20:05:55.610Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T20:05:55.611Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T20:05:55.611Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T20:05:55.611Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T20:05:55.612Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T20:05:55.761Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T20:05:55.763Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T20:05:55.764Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T20:05:55.766Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T20:05:55.767Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T20:05:55.767Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T20:05:55.778Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T20:05:55.779Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T20:05:55.780Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T20:05:55.780Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T20:05:55.781Z","userId":"123"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:05:55.964Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:05:58.363Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:12:08.772Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:12:08.780Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:12:08.773Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:12:08.774Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:12:08.774Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:12:08.802Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:12:08.803Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:12:08.804Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:12:08.781Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:12:08.782Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:12:08.782Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:12:08.804Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:12:08.805Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:12:08.806Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:12:08.804Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:12:08.806Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:12:08.806Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:12:08.806Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:12:08.823Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:12:08.824Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:12:08.824Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:12:08.832Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:12:08.834Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:12:08.834Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:12:08.835Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:12:08.853Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:12:08.853Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:12:08.854Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:12:08.820Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:12:08.822Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:12:08.823Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:12:08.823Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:12:08.842Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:12:08.847Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:12:08.855Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:12:08.857Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:12:08.859Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:12:08.858Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:12:08.858Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:12:08.859Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:12:08.879Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:12:08.880Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:12:08.880Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:12:08.860Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:12:08.860Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:12:08.860Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:12:08.881Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:12:08.882Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:12:08.882Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:12:08.902Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:12:08.900Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:12:08.902Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:12:08.902Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:12:08.905Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:12:08.900Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:12:08.902Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:12:08.903Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:12:08.905Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:12:08.902Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:12:08.906Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:12:08.909Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:12:08.907Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:12:08.910Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:12:10.090Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:12:10.409Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:12:11.147Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:12:11.148Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:12:11.148Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:12:11.148Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:12:11.161Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:12:11.161Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:12:11.162Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:12:11.171Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:12:11.171Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:12:11.372Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:12:11.373Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:12:11.373Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:12:11.373Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:12:11.380Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:12:11.381Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:12:11.381Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:12:11.390Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:12:11.390Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:12:11.772Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:12:12.026Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:12:12.070Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:12:12.079Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:12:12.097Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:12:12.782Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:12:12.783Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:12:12.784Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:12:12.784Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:12:12.813Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:12:12.813Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:12:12.814Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:12:12.837Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:12:12.837Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:12:13.272Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:12:13.273Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:12:13.273Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:12:13.274Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:12:13.282Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:12:13.283Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:12:13.284Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:12:13.321Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:12:13.321Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T20:12:13.414Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T20:12:13.418Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T20:12:13.419Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T20:12:13.421Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T20:12:13.421Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T20:12:13.421Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T20:12:13.425Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T20:12:13.426Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T20:12:13.426Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T20:12:13.427Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T20:12:13.427Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T20:12:13.578Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T20:12:13.574Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T20:12:13.580Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T20:12:13.581Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T20:12:13.582Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T20:12:13.582Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T20:12:13.582Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T20:12:13.582Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T20:12:13.582Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T20:12:13.583Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T20:12:13.583Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T20:12:13.583Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T20:12:13.583Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:12:13.667Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:12:13.917Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:12:14.622Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:12:15.758Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:15:16.256Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:15:16.257Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:15:16.257Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:15:16.257Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:15:16.343Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:15:16.344Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:15:16.344Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:15:16.389Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:15:16.389Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:15:16.346Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:15:16.348Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:15:16.349Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:15:16.349Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:15:16.399Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:15:16.399Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:15:16.400Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:15:16.349Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:15:16.350Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:15:16.352Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:15:16.355Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:15:16.395Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:15:16.396Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:15:16.396Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:15:16.359Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:15:16.360Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:15:16.361Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:15:16.361Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:15:16.407Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:15:16.408Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:15:16.408Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:15:16.435Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:15:16.393Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:15:16.435Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:15:16.441Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:15:16.395Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:15:16.396Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:15:16.396Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:15:16.422Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:15:16.423Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:15:16.424Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:15:16.443Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:15:16.441Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:15:16.443Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:15:16.456Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:15:16.457Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:15:16.965Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:15:16.966Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:15:16.966Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:15:16.967Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:15:16.979Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:15:16.980Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:15:16.980Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:15:16.993Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:15:16.993Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:15:17.211Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:15:17.213Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:15:17.213Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:15:17.214Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:15:17.224Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:15:17.224Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:15:17.224Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:15:17.236Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:15:17.236Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:15:17.597Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:15:18.441Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:15:18.441Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:15:18.442Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:15:18.442Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:15:18.449Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:15:18.449Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:15:18.450Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:15:18.456Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:15:18.456Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:15:18.775Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:15:19.075Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:15:19.507Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:15:19.508Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:15:19.508Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:15:19.508Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:15:19.515Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:15:19.515Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:15:19.516Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:15:19.528Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:15:19.528Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:15:19.704Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:15:19.725Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:15:19.803Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:15:19.804Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:15:19.804Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:15:19.804Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:15:19.812Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:15:19.812Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:15:19.813Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:15:19.821Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:15:19.821Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:15:20.101Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:15:20.204Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:15:20.620Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:15:20.621Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:15:20.621Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:15:20.621Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:15:20.638Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:15:20.639Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:15:20.640Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:15:20.660Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:15:20.660Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:15:20.908Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T20:15:21.185Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T20:15:21.194Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T20:15:21.196Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T20:15:21.199Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T20:15:21.200Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T20:15:21.201Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T20:15:21.203Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T20:15:21.205Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T20:15:21.205Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T20:15:21.205Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T20:15:21.205Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T20:15:21.312Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T20:15:21.309Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T20:15:21.314Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T20:15:21.318Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T20:15:21.319Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T20:15:21.319Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T20:15:21.320Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T20:15:21.320Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T20:15:21.320Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T20:15:21.320Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T20:15:21.320Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T20:15:21.320Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T20:15:21.321Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:15:21.409Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:15:23.263Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:15:25.208Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:17:19.633Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:17:19.635Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:17:19.636Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:17:19.636Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:17:19.656Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:17:19.657Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:17:19.657Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:17:19.649Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:17:19.651Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:17:19.651Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:17:19.652Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:17:19.673Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:17:19.674Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:17:19.674Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:17:19.701Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:17:19.703Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:17:19.702Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:17:19.703Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:17:19.663Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:17:19.684Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:17:19.684Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:17:19.685Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:17:19.685Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:17:19.705Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:17:19.705Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:17:19.705Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:17:19.665Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:17:19.666Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:17:19.668Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:17:19.699Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:17:19.700Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:17:19.702Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:17:19.695Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:17:19.722Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:17:19.697Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:17:19.697Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:17:19.698Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:17:19.714Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:17:19.714Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:17:19.715Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:17:19.730Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:17:19.723Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:17:19.730Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:17:19.738Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:17:19.739Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:17:20.444Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:17:20.445Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:17:20.445Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:17:20.445Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:17:20.456Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:17:20.456Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:17:20.457Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:17:20.466Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:17:20.466Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:17:20.584Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:17:20.585Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:17:20.586Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:17:20.586Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:17:20.594Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:17:20.594Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:17:20.594Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:17:20.601Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:17:20.601Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:17:20.853Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:17:21.769Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:17:21.770Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:17:21.770Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:17:21.770Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:17:21.786Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:17:21.788Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:17:21.790Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:17:21.821Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:17:21.821Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:17:22.144Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:17:22.488Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:17:22.940Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:17:22.940Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:17:22.941Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:17:22.941Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:17:22.951Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:17:22.952Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:17:22.952Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:17:22.958Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:17:22.958Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:17:23.203Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:17:23.421Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:17:23.520Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:17:23.524Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:17:23.525Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:17:23.526Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:17:23.534Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:17:23.535Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:17:23.535Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:17:23.553Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:17:23.559Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:17:23.560Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:17:23.808Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:17:24.155Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:17:24.161Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:17:24.161Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:17:24.162Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:17:24.216Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:17:24.216Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:17:24.217Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:17:24.236Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:17:24.237Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:17:24.551Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:17:24.864Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T20:17:24.919Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T20:17:24.916Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T20:17:24.921Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T20:17:24.924Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T20:17:24.925Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T20:17:24.926Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T20:17:24.927Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T20:17:24.928Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T20:17:24.928Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T20:17:24.929Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T20:17:24.929Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T20:17:24.929Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T20:17:24.930Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T20:17:25.144Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T20:17:25.149Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T20:17:25.150Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T20:17:25.153Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T20:17:25.154Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T20:17:25.154Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T20:17:25.157Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T20:17:25.160Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T20:17:25.161Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T20:17:25.161Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T20:17:25.162Z","userId":"123"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:17:25.547Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:17:26.656Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:17:35.862Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:17:35.857Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:17:35.858Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:17:35.858Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:17:35.858Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:17:35.877Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:17:35.878Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:17:35.878Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:17:35.863Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:17:35.863Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:17:35.863Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:17:35.879Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:17:35.879Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:17:35.879Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:17:35.907Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:17:35.907Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:17:35.907Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:17:35.907Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:17:35.898Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:17:35.899Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:17:35.899Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:17:35.899Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:17:35.915Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:17:35.916Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:17:35.919Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:17:35.904Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:17:35.905Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:17:35.905Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:17:35.905Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:17:35.929Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:17:35.930Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:17:35.930Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:17:35.953Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:17:35.956Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:17:35.953Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:17:35.957Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:17:35.950Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:17:35.951Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:17:35.951Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:17:35.951Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:17:35.967Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:17:35.968Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:17:35.969Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:17:35.983Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:17:35.983Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:17:35.985Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:17:35.986Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:17:35.986Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:17:35.986Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:17:36.000Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:17:36.000Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:17:36.001Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:17:36.010Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:17:35.986Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:17:35.987Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:17:35.988Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:17:35.988Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:17:36.002Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:17:36.003Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:17:36.003Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:17:36.010Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:17:36.018Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:17:36.019Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:17:36.939Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:17:37.474Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:17:38.245Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:17:38.245Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:17:38.246Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:17:38.246Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:17:38.253Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:17:38.253Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:17:38.253Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:17:38.317Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:17:38.317Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:17:38.920Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:17:39.179Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:17:39.231Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:17:39.270Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:17:39.504Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:17:39.505Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:17:39.505Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:17:39.505Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:17:39.516Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:17:39.517Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:17:39.518Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:17:39.531Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:17:39.531Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:17:39.910Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:17:39.910Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:17:39.911Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:17:39.911Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:17:39.919Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:17:39.919Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:17:39.920Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:17:39.933Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:17:39.933Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:17:40.165Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T20:17:40.263Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T20:17:40.264Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T20:17:40.264Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T20:17:40.265Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T20:17:40.277Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T20:17:40.277Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T20:17:40.278Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T20:17:40.286Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T20:17:40.286Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T20:17:40.498Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T20:17:40.500Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T20:17:40.500Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T20:17:40.502Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T20:17:40.503Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T20:17:40.503Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T20:17:40.504Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T20:17:40.505Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T20:17:40.505Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T20:17:40.505Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T20:17:40.506Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T20:17:40.679Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T20:17:40.678Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T20:17:40.680Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T20:17:40.682Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T20:17:40.682Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T20:17:40.682Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T20:17:40.682Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T20:17:40.683Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T20:17:40.683Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T20:17:40.683Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T20:17:40.683Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T20:17:40.683Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T20:17:40.683Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:17:40.702Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:17:40.888Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:17:41.459Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T20:17:42.757Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-06T16:41:50.766Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-06T16:41:50.778Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-06T16:41:50.779Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-06T16:41:50.783Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-06T16:41:50.784Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-06T16:41:50.784Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-06T16:41:50.791Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-06T16:41:50.792Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-06T16:41:50.792Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-06T16:41:50.792Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-06T16:41:50.792Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T16:41:51.009Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-06T16:41:50.993Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T16:41:51.011Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T16:41:51.019Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-06T16:41:51.020Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T16:41:51.020Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T16:41:51.022Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-06T16:41:51.023Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-06T16:41:51.023Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T16:41:51.025Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-06T16:41:51.025Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-06T16:41:51.025Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-06T16:41:51.026Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T16:42:07.389Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-06T16:42:07.387Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T16:42:07.390Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T16:42:07.392Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-06T16:42:07.392Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T16:42:07.392Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T16:42:07.392Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-06T16:42:07.393Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-06T16:42:07.393Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T16:42:07.393Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-06T16:42:07.393Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-06T16:42:07.393Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-06T16:42:07.394Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-06T16:42:07.401Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-06T16:42:07.404Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-06T16:42:07.404Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-06T16:42:07.405Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-06T16:42:07.406Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-06T16:42:07.406Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-06T16:42:07.408Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-06T16:42:07.409Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-06T16:42:07.409Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-06T16:42:07.409Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-06T16:42:07.409Z","userId":"123"}
{"level":"error","message":"Test error message","timestamp":"2025-12-06T16:47:00.324Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-06T16:47:00.329Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-06T16:47:00.331Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-06T16:47:00.335Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-06T16:47:00.336Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-06T16:47:00.337Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-06T16:47:00.339Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-06T16:47:00.344Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-06T16:47:00.346Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-06T16:47:00.346Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-06T16:47:00.347Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T16:47:00.328Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-06T16:47:00.325Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T16:47:00.331Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T16:47:00.336Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-06T16:47:00.341Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T16:47:00.341Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T16:47:00.341Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-06T16:47:00.343Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-06T16:47:00.343Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T16:47:00.347Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-06T16:47:00.347Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-06T16:47:00.347Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-06T16:47:00.349Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T16:47:22.887Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-06T16:47:22.882Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T16:47:22.890Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T16:47:22.892Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-06T16:47:22.892Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T16:47:22.892Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T16:47:22.892Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-06T16:47:22.892Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-06T16:47:22.893Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T16:47:22.893Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-06T16:47:22.893Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-06T16:47:22.893Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-06T16:47:22.893Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-06T16:47:22.955Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-06T16:47:22.957Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-06T16:47:22.957Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-06T16:47:22.958Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-06T16:47:22.958Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-06T16:47:22.958Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-06T16:47:22.959Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-06T16:47:22.960Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-06T16:47:22.960Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-06T16:47:22.960Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-06T16:47:22.960Z","userId":"123"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-06T16:53:17.029Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-06T16:53:17.034Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-06T16:53:17.035Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-06T16:53:17.036Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-06T16:53:17.075Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-06T16:53:17.076Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-06T16:53:17.076Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-06T16:53:18.321Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-06T16:53:18.322Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-06T16:53:27.594Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-06T17:23:11.795Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-06T17:23:11.796Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-06T17:23:11.796Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-06T17:23:11.796Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-06T17:23:11.807Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-06T17:23:11.807Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-06T17:23:11.808Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-06T17:23:11.891Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-06T17:23:11.891Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-06T17:23:18.676Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-06T22:56:44.141Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-06T22:56:44.142Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-06T22:56:44.143Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-06T22:56:44.143Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-06T22:56:44.156Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-06T22:56:44.157Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-06T22:56:44.157Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-06T22:56:44.268Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-06T22:56:44.268Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-06T22:56:51.580Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-06T22:57:07.734Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-06T22:57:07.735Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-06T22:57:07.736Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-06T22:57:07.736Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-06T22:57:07.753Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-06T22:57:07.753Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-06T22:57:07.754Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-06T22:57:07.820Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-06T22:57:07.820Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-06T22:57:14.947Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-06T23:00:29.635Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-06T23:00:29.636Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-06T23:00:29.637Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-06T23:00:29.637Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-06T23:00:29.648Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-06T23:00:29.648Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-06T23:00:29.648Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-06T23:00:29.681Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-06T23:00:29.681Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-06T23:00:37.006Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-06T23:01:33.677Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-06T23:01:33.678Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-06T23:01:33.678Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-06T23:01:33.679Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-06T23:01:33.693Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-06T23:01:33.693Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-06T23:01:33.694Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-06T23:01:33.766Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-06T23:01:33.766Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-06T23:01:35.265Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-06T23:03:10.707Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-06T23:03:10.708Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-06T23:03:10.709Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-06T23:03:10.709Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-06T23:03:10.712Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-06T23:03:10.712Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-06T23:03:10.713Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-06T23:04:04.869Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-06T23:04:04.872Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-06T23:04:04.872Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-06T23:04:04.873Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-06T23:04:04.874Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-06T23:04:04.874Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-06T23:04:04.874Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:04:56.783Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-06T23:04:56.780Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:04:56.784Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:04:56.785Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-06T23:04:56.786Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:04:56.786Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:04:56.786Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-06T23:04:56.786Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-06T23:04:56.786Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:04:56.787Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-06T23:04:56.787Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-06T23:04:56.787Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-06T23:04:56.787Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-06T23:04:56.833Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-06T23:04:56.838Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-06T23:04:56.839Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-06T23:04:56.841Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-06T23:04:56.841Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-06T23:04:56.842Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-06T23:04:56.845Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-06T23:04:56.845Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-06T23:04:56.846Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-06T23:04:56.846Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-06T23:04:56.846Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:06:52.016Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-06T23:06:52.008Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:06:52.017Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:06:52.018Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-06T23:06:52.019Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:06:52.019Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:06:52.019Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-06T23:06:52.019Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-06T23:06:52.019Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:06:52.020Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-06T23:06:52.020Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-06T23:06:52.020Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-06T23:06:52.020Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-06T23:06:52.169Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-06T23:06:52.178Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-06T23:06:52.179Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-06T23:06:52.179Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-06T23:06:52.180Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-06T23:06:52.180Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-06T23:06:52.187Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-06T23:06:52.188Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-06T23:06:52.189Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-06T23:06:52.191Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-06T23:06:52.192Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:08:59.365Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-06T23:08:59.349Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:08:59.367Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:08:59.369Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-06T23:08:59.369Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:08:59.369Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:08:59.369Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-06T23:08:59.369Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-06T23:08:59.369Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:08:59.371Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-06T23:08:59.371Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-06T23:08:59.371Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-06T23:08:59.372Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-06T23:08:59.419Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-06T23:08:59.442Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-06T23:08:59.445Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-06T23:08:59.446Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-06T23:08:59.447Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-06T23:08:59.447Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-06T23:08:59.448Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-06T23:08:59.450Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-06T23:08:59.450Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-06T23:08:59.451Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-06T23:08:59.452Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:09:15.035Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-06T23:09:15.028Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:09:15.037Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:09:15.040Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-06T23:09:15.041Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:09:15.041Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:09:15.041Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-06T23:09:15.042Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-06T23:09:15.042Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:09:15.043Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-06T23:09:15.043Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-06T23:09:15.043Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-06T23:09:15.044Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-06T23:09:15.101Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-06T23:09:15.105Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-06T23:09:15.108Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-06T23:09:15.111Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-06T23:09:15.113Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-06T23:09:15.113Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-06T23:09:15.114Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-06T23:09:15.115Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-06T23:09:15.115Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-06T23:09:15.115Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-06T23:09:15.115Z","userId":"123"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-06T23:09:17.164Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-06T23:09:17.165Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-06T23:09:17.165Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-06T23:09:17.165Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-06T23:09:17.167Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-06T23:09:17.167Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-06T23:09:17.168Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-06T23:09:38.084Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-06T23:09:38.093Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-06T23:09:38.094Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-06T23:09:38.094Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-06T23:09:38.096Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-06T23:09:38.096Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-06T23:09:38.096Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-06T23:09:38.093Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-06T23:09:38.100Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-06T23:09:38.095Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-06T23:09:38.096Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-06T23:09:38.097Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-06T23:09:38.100Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-06T23:09:38.101Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-06T23:09:38.102Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-06T23:09:38.101Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-06T23:09:38.101Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-06T23:09:38.102Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-06T23:09:38.104Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-06T23:09:38.105Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-06T23:09:38.105Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-06T23:09:38.128Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-06T23:09:38.130Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-06T23:09:38.134Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-06T23:09:38.137Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-06T23:09:38.138Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-06T23:09:38.141Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-06T23:09:38.141Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-06T23:09:38.145Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-06T23:09:38.143Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-06T23:09:38.145Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-06T23:09:38.145Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-06T23:09:38.145Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-06T23:09:38.147Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-06T23:09:38.148Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-06T23:09:38.149Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-06T23:09:38.146Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-06T23:09:38.146Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-06T23:09:38.146Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-06T23:09:38.148Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-06T23:09:38.148Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-06T23:09:38.148Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-06T23:09:38.164Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-06T23:09:38.168Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-06T23:09:38.169Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-06T23:09:38.169Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-06T23:09:38.170Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-06T23:09:38.171Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-06T23:09:38.171Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-06T23:09:41.082Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-06T23:09:41.083Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-06T23:09:41.083Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-06T23:09:41.084Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-06T23:09:41.085Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-06T23:09:41.086Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-06T23:09:41.086Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-06T23:09:41.089Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-06T23:09:41.090Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-06T23:09:41.090Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-06T23:09:41.091Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-06T23:09:41.092Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-06T23:09:41.092Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-06T23:09:41.093Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-06T23:09:41.091Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-06T23:09:41.092Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-06T23:09:41.092Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-06T23:09:41.093Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-06T23:09:41.094Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-06T23:09:41.095Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-06T23:09:41.095Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-06T23:09:41.142Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-06T23:09:41.143Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-06T23:09:41.144Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-06T23:09:41.144Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-06T23:09:41.145Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-06T23:09:41.145Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-06T23:09:41.145Z"}
{"errors":{"0":"Por favor ingresa un email v√°lido"},"level":"warn","message":"Error de validaci√≥n en contacto de emergencia","timestamp":"2025-12-06T23:09:46.516Z","userId":"6934b7bae79e26104364bd32"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:10:50.775Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-06T23:10:50.769Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:10:50.778Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:10:50.779Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-06T23:10:50.780Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:10:50.780Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:10:50.780Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-06T23:10:50.780Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-06T23:10:50.780Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:10:50.781Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-06T23:10:50.781Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-06T23:10:50.781Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-06T23:10:50.781Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-06T23:10:50.927Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-06T23:10:50.929Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-06T23:10:50.929Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-06T23:10:50.931Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-06T23:10:50.932Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-06T23:10:50.933Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-06T23:10:50.937Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-06T23:10:50.943Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-06T23:10:50.946Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-06T23:10:50.947Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-06T23:10:50.947Z","userId":"123"}
{"level":"error","message":"Test error message","timestamp":"2025-12-06T23:12:53.701Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-06T23:12:53.704Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-06T23:12:53.705Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-06T23:12:53.705Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-06T23:12:53.705Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-06T23:12:53.706Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-06T23:12:53.707Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-06T23:12:53.708Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-06T23:12:53.708Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-06T23:12:53.708Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-06T23:12:53.708Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:12:53.826Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-06T23:12:53.825Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:12:53.827Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:12:53.831Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-06T23:12:53.833Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:12:53.833Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:12:53.834Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-06T23:12:53.834Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-06T23:12:53.834Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:12:53.835Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-06T23:12:53.835Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-06T23:12:53.835Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-06T23:12:53.836Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-06T23:13:17.563Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-06T23:13:17.568Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-06T23:13:17.571Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-06T23:13:17.572Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-06T23:13:17.572Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-06T23:13:17.572Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-06T23:13:17.589Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-06T23:13:17.591Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-06T23:13:17.592Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-06T23:13:17.592Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-06T23:13:17.592Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:13:17.641Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-06T23:13:17.639Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:13:17.645Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:13:17.646Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-06T23:13:17.647Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:13:17.647Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:13:17.649Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-06T23:13:17.650Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-06T23:13:17.650Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:13:17.651Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-06T23:13:17.651Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-06T23:13:17.651Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-06T23:13:17.652Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-06T23:13:32.976Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-06T23:13:32.983Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-06T23:13:32.986Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-06T23:13:32.990Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-06T23:13:32.991Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-06T23:13:32.991Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-06T23:13:32.992Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-06T23:13:32.993Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-06T23:13:32.995Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-06T23:13:32.996Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-06T23:13:32.996Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:13:33.321Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-06T23:13:33.310Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:13:33.324Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:13:33.326Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-06T23:13:33.327Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:13:33.328Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:13:33.329Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-06T23:13:33.330Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-06T23:13:33.330Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:13:33.331Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-06T23:13:33.331Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-06T23:13:33.331Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-06T23:13:33.332Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-06T23:13:43.618Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-06T23:13:43.620Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-06T23:13:43.620Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-06T23:13:43.623Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-06T23:13:43.624Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-06T23:13:43.624Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-06T23:13:43.629Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-06T23:13:43.630Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-06T23:13:43.630Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-06T23:13:43.631Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-06T23:13:43.631Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:13:43.728Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-06T23:13:43.725Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:13:43.730Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:13:43.736Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-06T23:13:43.736Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:13:43.736Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:13:43.737Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-06T23:13:43.738Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-06T23:13:43.738Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:13:43.738Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-06T23:13:43.739Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-06T23:13:43.739Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-06T23:13:43.740Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:13:56.334Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-06T23:13:56.332Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:13:56.335Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:13:56.336Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-06T23:13:56.336Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:13:56.336Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:13:56.336Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-06T23:13:56.337Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-06T23:13:56.337Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:13:56.337Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-06T23:13:56.337Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-06T23:13:56.337Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-06T23:13:56.337Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-06T23:13:56.344Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-06T23:13:56.349Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-06T23:13:56.350Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-06T23:13:56.350Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-06T23:13:56.351Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-06T23:13:56.351Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-06T23:13:56.352Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-06T23:13:56.352Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-06T23:13:56.353Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-06T23:13:56.353Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-06T23:13:56.353Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:14:50.192Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-06T23:14:50.187Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:14:50.199Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:14:50.202Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-06T23:14:50.202Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:14:50.202Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:14:50.203Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-06T23:14:50.203Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-06T23:14:50.203Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:14:50.204Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-06T23:14:50.204Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-06T23:14:50.204Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-06T23:14:50.204Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-06T23:14:50.233Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-06T23:14:50.251Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-06T23:14:50.253Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-06T23:14:50.256Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-06T23:14:50.257Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-06T23:14:50.257Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-06T23:14:50.271Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-06T23:14:50.332Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-06T23:14:50.333Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-06T23:14:50.333Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-06T23:14:50.333Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:15:09.866Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-06T23:15:09.858Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:15:09.868Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:15:09.872Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-06T23:15:09.873Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:15:09.874Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:15:09.876Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-06T23:15:09.877Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-06T23:15:09.879Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:15:09.880Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-06T23:15:09.880Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-06T23:15:09.880Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-06T23:15:09.882Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-06T23:15:09.884Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-06T23:15:09.890Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-06T23:15:09.892Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-06T23:15:09.896Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-06T23:15:09.897Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-06T23:15:09.897Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-06T23:15:09.900Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-06T23:15:09.901Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-06T23:15:09.901Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-06T23:15:09.901Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-06T23:15:09.902Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:15:30.735Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-06T23:15:30.734Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:15:30.736Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:15:30.737Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-06T23:15:30.738Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:15:30.738Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:15:30.738Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-06T23:15:30.739Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-06T23:15:30.739Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:15:30.740Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-06T23:15:30.740Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-06T23:15:30.740Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-06T23:15:30.740Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-06T23:15:30.734Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-06T23:15:30.739Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-06T23:15:30.740Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-06T23:15:30.748Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-06T23:15:30.748Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-06T23:15:30.749Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-06T23:15:30.750Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-06T23:15:30.751Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-06T23:15:30.751Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-06T23:15:30.752Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-06T23:15:30.753Z","userId":"123"}
{"level":"error","message":"Test error message","timestamp":"2025-12-06T23:15:53.340Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-06T23:15:53.341Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-06T23:15:53.341Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-06T23:15:53.342Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-06T23:15:53.342Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-06T23:15:53.343Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-06T23:15:53.348Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-06T23:15:53.349Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-06T23:15:53.349Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-06T23:15:53.349Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-06T23:15:53.349Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:15:53.348Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-06T23:15:53.343Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:15:53.349Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:15:53.350Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-06T23:15:53.351Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:15:53.352Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:15:53.352Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-06T23:15:53.352Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-06T23:15:53.352Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:15:53.353Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-06T23:15:53.353Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-06T23:15:53.353Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-06T23:15:53.354Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-06T23:16:19.945Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-06T23:16:19.949Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-06T23:16:19.952Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-06T23:16:19.957Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-06T23:16:19.958Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-06T23:16:19.960Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-06T23:16:19.964Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-06T23:16:19.966Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-06T23:16:19.966Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-06T23:16:19.967Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-06T23:16:19.967Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:16:20.031Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-06T23:16:20.028Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:16:20.033Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:16:20.034Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-06T23:16:20.035Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:16:20.035Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:16:20.035Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-06T23:16:20.035Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-06T23:16:20.035Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:16:20.036Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-06T23:16:20.036Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-06T23:16:20.036Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-06T23:16:20.036Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:16:31.134Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-06T23:16:31.131Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:16:31.136Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:16:31.142Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-06T23:16:31.144Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:16:31.144Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:16:31.146Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-06T23:16:31.147Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-06T23:16:31.147Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:16:31.151Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-06T23:16:31.151Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-06T23:16:31.152Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-06T23:16:31.156Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-06T23:16:31.131Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-06T23:16:31.137Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-06T23:16:31.138Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-06T23:16:31.150Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-06T23:16:31.151Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-06T23:16:31.154Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-06T23:16:31.158Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-06T23:16:31.163Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-06T23:16:31.163Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-06T23:16:31.163Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-06T23:16:31.164Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:16:45.336Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-06T23:16:45.323Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:16:45.342Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:16:45.346Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-06T23:16:45.347Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:16:45.347Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:16:45.348Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-06T23:16:45.349Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-06T23:16:45.349Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:16:45.350Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-06T23:16:45.350Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-06T23:16:45.350Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-06T23:16:45.354Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-06T23:16:45.701Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-06T23:16:45.706Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-06T23:16:45.708Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-06T23:16:45.709Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-06T23:16:45.709Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-06T23:16:45.709Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-06T23:16:45.711Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-06T23:16:45.712Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-06T23:16:45.712Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-06T23:16:45.712Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-06T23:16:45.713Z","userId":"123"}
{"level":"error","message":"Test error message","timestamp":"2025-12-06T23:17:16.628Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-06T23:17:16.633Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-06T23:17:16.634Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-06T23:17:16.637Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-06T23:17:16.637Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-06T23:17:16.637Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-06T23:17:16.638Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-06T23:17:16.639Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-06T23:17:16.639Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-06T23:17:16.639Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-06T23:17:16.639Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:17:16.732Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-06T23:17:16.727Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:17:16.733Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:17:16.738Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-06T23:17:16.738Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:17:16.739Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:17:16.739Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-06T23:17:16.739Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-06T23:17:16.740Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:17:16.740Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-06T23:17:16.741Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-06T23:17:16.741Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-06T23:17:16.741Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:18:47.659Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-06T23:18:47.783Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-06T23:18:47.654Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:18:47.661Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:18:47.663Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-06T23:18:47.664Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-06T23:18:47.664Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:18:47.664Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-06T23:18:47.665Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-06T23:18:47.665Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-06T23:18:47.665Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-06T23:18:47.666Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-06T23:18:47.666Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-06T23:18:47.668Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-06T23:18:47.787Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-06T23:18:47.788Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-06T23:18:47.789Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-06T23:18:47.790Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-06T23:18:47.790Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-06T23:18:47.796Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-06T23:18:47.797Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-06T23:18:47.798Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-06T23:18:47.800Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-06T23:18:47.800Z","userId":"123"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T19:32:57.909Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T19:32:57.921Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T19:32:57.922Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T19:32:57.924Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T19:32:57.924Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T19:32:57.925Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T19:32:57.926Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T19:32:57.926Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T19:32:57.927Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T19:32:57.927Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T19:32:57.927Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:32:57.994Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T19:32:57.992Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:32:57.995Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:32:57.996Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T19:32:57.997Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:32:57.997Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:32:57.997Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T19:32:57.997Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T19:32:57.997Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:32:57.998Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T19:32:57.998Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T19:32:57.998Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T19:32:57.999Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:33:25.161Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T19:33:25.156Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:33:25.168Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:33:25.170Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T19:33:25.171Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:33:25.171Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:33:25.171Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T19:33:25.171Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T19:33:25.171Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:33:25.173Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T19:33:25.173Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T19:33:25.173Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T19:33:25.174Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T19:33:24.784Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T19:33:24.787Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T19:33:24.787Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T19:33:24.788Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T19:33:24.788Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T19:33:24.789Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T19:33:24.791Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T19:33:24.792Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T19:33:24.793Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T19:33:24.794Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T19:33:24.795Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:34:57.861Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T19:34:57.839Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:34:57.864Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:34:57.865Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T19:34:57.866Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:34:57.866Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:34:57.868Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T19:34:57.869Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T19:34:57.869Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:34:57.870Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T19:34:57.870Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T19:34:57.870Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T19:34:57.871Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T19:34:58.328Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T19:34:58.330Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T19:34:58.333Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T19:34:58.337Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T19:34:58.337Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T19:34:58.339Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T19:34:58.341Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T19:34:58.342Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T19:34:58.343Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T19:34:58.343Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T19:34:58.343Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:35:04.136Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T19:35:04.135Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:35:04.137Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:35:04.139Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T19:35:04.140Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:35:04.140Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:35:04.142Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T19:35:04.142Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T19:35:04.142Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:35:04.144Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T19:35:04.146Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T19:35:04.146Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T19:35:04.150Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T19:35:04.265Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T19:35:04.268Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T19:35:04.268Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T19:35:04.269Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T19:35:04.270Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T19:35:04.271Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T19:35:04.276Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T19:35:04.278Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T19:35:04.279Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T19:35:04.279Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T19:35:04.280Z","userId":"123"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-07T19:35:05.489Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-07T19:35:05.501Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-07T19:35:05.505Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-07T19:35:05.506Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-07T19:35:05.508Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-07T19:35:05.509Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-07T19:35:05.509Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T19:35:35.153Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T19:35:35.156Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T19:35:35.156Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T19:35:35.157Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T19:35:35.158Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T19:35:35.158Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T19:35:35.159Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T19:35:35.161Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T19:35:35.161Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T19:35:35.162Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T19:35:35.162Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:35:35.209Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T19:35:35.192Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:35:35.231Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:35:35.235Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T19:35:35.235Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:35:35.235Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:35:35.236Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T19:35:35.236Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T19:35:35.236Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:35:35.236Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T19:35:35.236Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T19:35:35.237Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T19:35:35.238Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:35:50.481Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T19:35:50.479Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:35:50.483Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:35:50.485Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T19:35:50.487Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:35:50.487Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:35:50.488Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T19:35:50.489Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T19:35:50.489Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:35:50.489Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T19:35:50.489Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T19:35:50.489Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T19:35:50.490Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T19:35:50.518Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T19:35:50.521Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T19:35:50.522Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T19:35:50.523Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T19:35:50.523Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T19:35:50.524Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T19:35:50.530Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T19:35:50.534Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T19:35:50.535Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T19:35:50.535Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T19:35:50.536Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:36:14.493Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T19:36:14.490Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:36:14.494Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:36:14.496Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T19:36:14.497Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:36:14.498Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:36:14.499Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T19:36:14.500Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T19:36:14.500Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:36:14.501Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T19:36:14.501Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T19:36:14.501Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T19:36:14.501Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T19:36:14.524Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T19:36:14.527Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T19:36:14.529Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T19:36:14.530Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T19:36:14.530Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T19:36:14.530Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T19:36:14.531Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T19:36:14.532Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T19:36:14.532Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T19:36:14.532Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T19:36:14.532Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:36:35.572Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T19:36:35.570Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:36:35.573Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:36:35.577Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T19:36:35.577Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:36:35.577Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:36:35.577Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T19:36:35.578Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T19:36:35.578Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:36:35.578Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T19:36:35.578Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T19:36:35.578Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T19:36:35.578Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T19:36:35.663Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T19:36:35.664Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T19:36:35.665Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T19:36:35.666Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T19:36:35.666Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T19:36:35.666Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T19:36:35.668Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T19:36:35.668Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T19:36:35.668Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T19:36:35.669Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T19:36:35.669Z","userId":"123"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T19:36:58.660Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T19:36:58.677Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T19:36:58.682Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T19:36:58.685Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T19:36:58.686Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T19:36:58.687Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T19:36:58.689Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T19:36:58.695Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T19:36:58.696Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T19:36:58.697Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T19:36:58.697Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:36:58.654Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T19:36:58.642Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:36:58.663Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:36:58.687Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T19:36:58.689Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:36:58.689Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:36:58.693Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T19:36:58.694Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T19:36:58.694Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:36:58.697Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T19:36:58.697Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T19:36:58.697Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T19:36:58.707Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:37:22.563Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T19:37:22.557Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:37:22.565Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:37:22.567Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T19:37:22.568Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:37:22.568Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:37:22.568Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T19:37:22.568Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T19:37:22.569Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:37:22.569Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T19:37:22.569Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T19:37:22.569Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T19:37:22.569Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T19:37:22.621Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T19:37:22.626Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T19:37:22.626Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T19:37:22.634Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T19:37:22.635Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T19:37:22.635Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T19:37:22.636Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T19:37:22.639Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T19:37:22.639Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T19:37:22.639Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T19:37:22.640Z","userId":"123"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T19:37:35.447Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T19:37:35.463Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T19:37:35.464Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T19:37:35.465Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T19:37:35.465Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T19:37:35.467Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T19:37:35.472Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T19:37:35.480Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T19:37:35.480Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T19:37:35.480Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T19:37:35.481Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:37:35.529Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T19:37:35.528Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:37:35.532Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:37:35.535Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T19:37:35.536Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:37:35.536Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:37:35.537Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T19:37:35.538Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T19:37:35.538Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:37:35.538Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T19:37:35.538Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T19:37:35.538Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T19:37:35.538Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T19:38:15.853Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:38:16.122Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T19:38:16.121Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:38:16.123Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:38:16.128Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T19:38:16.128Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:38:16.129Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:38:16.129Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T19:38:16.129Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T19:38:16.129Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:38:16.131Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T19:38:16.131Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T19:38:16.131Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T19:38:16.132Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T19:38:15.862Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T19:38:15.863Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T19:38:15.866Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T19:38:15.867Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T19:38:15.868Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T19:38:15.871Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T19:38:15.882Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T19:38:15.886Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T19:38:15.888Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T19:38:15.890Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:38:49.891Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T19:38:49.886Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:38:49.892Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:38:49.894Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T19:38:49.894Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:38:49.894Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:38:49.895Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T19:38:49.895Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T19:38:49.895Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:38:49.896Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T19:38:49.896Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T19:38:49.896Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T19:38:49.897Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T19:38:50.022Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T19:38:50.023Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T19:38:50.024Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T19:38:50.026Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T19:38:50.027Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T19:38:50.027Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T19:38:50.028Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T19:38:50.028Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T19:38:50.029Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T19:38:50.029Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T19:38:50.029Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:39:18.803Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T19:39:18.800Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:39:18.804Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:39:18.805Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T19:39:18.805Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:39:18.805Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:39:18.806Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T19:39:18.806Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T19:39:18.806Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:39:18.806Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T19:39:18.806Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T19:39:18.806Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T19:39:18.807Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T19:39:18.858Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T19:39:18.890Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T19:39:18.891Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T19:39:18.892Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T19:39:18.893Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T19:39:18.894Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T19:39:18.896Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T19:39:18.897Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T19:39:18.898Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T19:39:18.898Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T19:39:18.898Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:39:29.371Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T19:39:29.369Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:39:29.374Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:39:29.378Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T19:39:29.381Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:39:29.385Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:39:29.386Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T19:39:29.387Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T19:39:29.387Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:39:29.388Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T19:39:29.388Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T19:39:29.388Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T19:39:29.397Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T19:39:29.386Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T19:39:29.409Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T19:39:29.412Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T19:39:29.416Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T19:39:29.419Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T19:39:29.420Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T19:39:29.440Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T19:39:29.442Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T19:39:29.444Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T19:39:29.445Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T19:39:29.445Z","userId":"123"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-07T19:39:30.976Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-07T19:39:30.977Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-07T19:39:30.977Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-07T19:39:30.977Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-07T19:39:30.978Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-07T19:39:30.979Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-07T19:39:30.979Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:39:37.740Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T19:39:37.736Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:39:37.742Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:39:37.745Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T19:39:37.753Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:39:37.753Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:39:37.754Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T19:39:37.756Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T19:39:37.756Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:39:37.763Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T19:39:37.763Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T19:39:37.763Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T19:39:37.764Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T19:39:38.242Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T19:39:38.245Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T19:39:38.245Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T19:39:38.246Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T19:39:38.252Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T19:39:38.253Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T19:39:38.255Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T19:39:38.256Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T19:39:38.256Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T19:39:38.256Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T19:39:38.256Z","userId":"123"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T19:39:43.493Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T19:39:43.499Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T19:39:43.504Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T19:39:43.506Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T19:39:43.507Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T19:39:43.508Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T19:39:43.510Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T19:39:43.511Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T19:39:43.512Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T19:39:43.512Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T19:39:43.513Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:39:43.547Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T19:39:43.546Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:39:43.549Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:39:43.550Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T19:39:43.550Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:39:43.550Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:39:43.551Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T19:39:43.551Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T19:39:43.551Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:39:43.552Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T19:39:43.552Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T19:39:43.552Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T19:39:43.553Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T19:39:56.022Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T19:39:56.045Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T19:39:56.046Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T19:39:56.054Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T19:39:56.055Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T19:39:56.056Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T19:39:56.094Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T19:39:56.105Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T19:39:56.105Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T19:39:56.106Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T19:39:56.107Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:39:56.521Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T19:39:56.516Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:39:56.531Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:39:56.532Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T19:39:56.533Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:39:56.534Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:39:56.535Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T19:39:56.536Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T19:39:56.536Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:39:56.536Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T19:39:56.537Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T19:39:56.537Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T19:39:56.537Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:42:01.862Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T19:42:01.861Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:42:01.863Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:42:01.864Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T19:42:01.864Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:42:01.864Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:42:01.865Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T19:42:01.865Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T19:42:01.865Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:42:01.866Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T19:42:01.866Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T19:42:01.866Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T19:42:01.866Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T19:42:02.071Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T19:42:02.075Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T19:42:02.076Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T19:42:02.077Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T19:42:02.077Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T19:42:02.078Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T19:42:02.080Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T19:42:02.081Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T19:42:02.081Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T19:42:02.082Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T19:42:02.083Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:42:17.434Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T19:42:17.422Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:42:17.442Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:42:17.445Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T19:42:17.447Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:42:17.447Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:42:17.448Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T19:42:17.448Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T19:42:17.448Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:42:17.449Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T19:42:17.449Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T19:42:17.449Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T19:42:17.450Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T19:42:18.077Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T19:42:18.079Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T19:42:18.080Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T19:42:18.081Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T19:42:18.082Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T19:42:18.091Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T19:42:18.095Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T19:42:18.098Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T19:42:18.099Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T19:42:18.099Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T19:42:18.100Z","userId":"123"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-07T19:42:18.889Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-07T19:42:18.890Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-07T19:42:18.890Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-07T19:42:18.890Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-07T19:42:18.891Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-07T19:42:18.892Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-07T19:42:18.892Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:42:28.538Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T19:42:28.537Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:42:28.539Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:42:28.541Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T19:42:28.541Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:42:28.541Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:42:28.541Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T19:42:28.542Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T19:42:28.542Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:42:28.543Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T19:42:28.543Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T19:42:28.543Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T19:42:28.544Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T19:42:28.998Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T19:42:29.003Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T19:42:29.005Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T19:42:29.006Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T19:42:29.006Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T19:42:29.006Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T19:42:29.009Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T19:42:29.009Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T19:42:29.010Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T19:42:29.010Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T19:42:29.010Z","userId":"123"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T19:42:43.543Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T19:42:43.552Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T19:42:43.553Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T19:42:43.554Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T19:42:43.554Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T19:42:43.554Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T19:42:43.557Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T19:42:43.558Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T19:42:43.558Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T19:42:43.559Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T19:42:43.560Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:42:43.728Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T19:42:43.725Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:42:43.729Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:42:43.730Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T19:42:43.731Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T19:42:43.731Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:42:43.731Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T19:42:43.732Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T19:42:43.732Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T19:42:43.732Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T19:42:43.732Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T19:42:43.732Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T19:42:43.732Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T21:55:19.910Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T21:55:19.911Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T21:55:19.912Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T21:55:19.912Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T21:55:19.913Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T21:55:19.913Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T21:55:19.914Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T21:55:19.914Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T21:55:19.915Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T21:55:19.915Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T21:55:19.915Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T21:55:19.910Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T21:55:19.908Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T21:55:19.912Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T21:55:19.914Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T21:55:19.915Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T21:55:19.915Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T21:55:19.919Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T21:55:19.919Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T21:55:19.919Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T21:55:19.919Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T21:55:19.919Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T21:55:19.919Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T21:55:19.920Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T21:57:11.118Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T21:57:11.116Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T21:57:11.130Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T21:57:11.160Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T21:57:11.160Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T21:57:11.161Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T21:57:11.161Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T21:57:11.162Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T21:57:11.162Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T21:57:11.163Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T21:57:11.163Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T21:57:11.163Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T21:57:11.164Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T21:57:11.313Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T21:57:11.322Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T21:57:11.322Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T21:57:11.323Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T21:57:11.323Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T21:57:11.324Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T21:57:11.325Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T21:57:11.326Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T21:57:11.326Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T21:57:11.326Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T21:57:11.326Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T21:57:21.739Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T21:57:21.737Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T21:57:21.741Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T21:57:21.755Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T21:57:21.759Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T21:57:21.760Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T21:57:21.761Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T21:57:21.762Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T21:57:21.762Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T21:57:21.763Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T21:57:21.763Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T21:57:21.763Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T21:57:21.764Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T21:57:21.929Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T21:57:21.935Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T21:57:21.938Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T21:57:21.941Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T21:57:21.942Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T21:57:21.943Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T21:57:21.949Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T21:57:21.950Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T21:57:21.950Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T21:57:21.950Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T21:57:21.951Z","userId":"123"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-07T21:57:23.293Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-07T21:57:23.294Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-07T21:57:23.294Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-07T21:57:23.295Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-07T21:57:23.296Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-07T21:57:23.296Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-07T21:57:23.296Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T22:13:46.083Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T22:13:46.086Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T22:13:46.086Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T22:13:46.087Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T22:13:46.087Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T22:13:46.104Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T22:13:46.107Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T22:13:46.108Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T22:13:46.109Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T22:13:46.109Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T22:13:46.109Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:13:46.107Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T22:13:46.106Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T22:13:46.108Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:13:46.109Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T22:13:46.110Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T22:13:46.110Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:13:46.110Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T22:13:46.110Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T22:13:46.110Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:13:46.110Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T22:13:46.110Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T22:13:46.110Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T22:13:46.111Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T22:14:04.830Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T22:14:04.833Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T22:14:04.834Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T22:14:04.841Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T22:14:04.895Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T22:14:04.895Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T22:14:04.904Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T22:14:04.908Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T22:14:04.909Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T22:14:04.909Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T22:14:04.910Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:14:04.897Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T22:14:04.843Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T22:14:04.902Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:14:04.904Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T22:14:04.909Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T22:14:04.909Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:14:04.910Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T22:14:04.911Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T22:14:04.912Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:14:04.915Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T22:14:04.916Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T22:14:04.916Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T22:14:04.919Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T22:14:28.346Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T22:14:28.348Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T22:14:28.350Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T22:14:28.353Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T22:14:28.354Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T22:14:28.355Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T22:14:28.357Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T22:14:28.357Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T22:14:28.358Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T22:14:28.358Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T22:14:28.358Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:14:28.400Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T22:14:28.396Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T22:14:28.402Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:14:28.406Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T22:14:28.406Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T22:14:28.406Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:14:28.407Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T22:14:28.407Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T22:14:28.407Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:14:28.408Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T22:14:28.408Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T22:14:28.408Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T22:14:28.408Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T22:14:40.695Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T22:14:40.700Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T22:14:40.702Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T22:14:40.703Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T22:14:40.704Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T22:14:40.706Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T22:14:40.710Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T22:14:40.711Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T22:14:40.711Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T22:14:40.711Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T22:14:40.712Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:14:40.710Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T22:14:40.709Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T22:14:40.712Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:14:40.715Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T22:14:40.715Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T22:14:40.716Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:14:40.716Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T22:14:40.716Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T22:14:40.716Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:14:40.717Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T22:14:40.717Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T22:14:40.717Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T22:14:40.717Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T22:56:23.644Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T22:56:23.653Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T22:56:23.655Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T22:56:23.658Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T22:56:23.659Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T22:56:23.661Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T22:56:23.675Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T22:56:23.676Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T22:56:23.677Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T22:56:23.678Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T22:56:23.679Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:56:23.976Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T22:56:23.972Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T22:56:23.979Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:56:23.987Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T22:56:23.989Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T22:56:23.989Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:56:23.991Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T22:56:23.991Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T22:56:23.992Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:56:23.996Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T22:56:23.996Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T22:56:23.996Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T22:56:23.996Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:56:41.973Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T22:56:41.967Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T22:56:41.976Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:56:41.979Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T22:56:41.979Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T22:56:41.979Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:56:41.979Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T22:56:41.980Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T22:56:41.980Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:56:41.980Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T22:56:41.980Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T22:56:41.980Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T22:56:41.981Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T22:56:42.074Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T22:56:42.082Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T22:56:42.083Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T22:56:42.083Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T22:56:42.084Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T22:56:42.085Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T22:56:42.097Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T22:56:42.099Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T22:56:42.100Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T22:56:42.100Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T22:56:42.101Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:57:09.152Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T22:57:09.144Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T22:57:09.153Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:57:09.154Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T22:57:09.154Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T22:57:09.155Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:57:09.155Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T22:57:09.155Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T22:57:09.155Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:57:09.155Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T22:57:09.155Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T22:57:09.155Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T22:57:09.156Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T22:57:09.821Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T22:57:09.824Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T22:57:09.825Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T22:57:09.826Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T22:57:09.827Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T22:57:09.828Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T22:57:09.834Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T22:57:09.835Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T22:57:09.835Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T22:57:09.835Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T22:57:09.835Z","userId":"123"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T22:57:27.469Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T22:57:27.470Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T22:57:27.471Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T22:57:27.471Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T22:57:27.472Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T22:57:27.472Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T22:57:27.473Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T22:57:27.474Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T22:57:27.474Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T22:57:27.474Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T22:57:27.474Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:57:27.795Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T22:57:27.792Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T22:57:27.797Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:57:27.800Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T22:57:27.800Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T22:57:27.800Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:57:27.801Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T22:57:27.802Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T22:57:27.802Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:57:27.802Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T22:57:27.803Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T22:57:27.803Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T22:57:27.803Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:57:42.460Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T22:57:42.458Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T22:57:42.462Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:57:42.464Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T22:57:42.466Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T22:57:42.466Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:57:42.467Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T22:57:42.467Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T22:57:42.467Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:57:42.468Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T22:57:42.468Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T22:57:42.468Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T22:57:42.469Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T22:57:43.435Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T22:57:43.436Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T22:57:43.436Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T22:57:43.441Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T22:57:43.442Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T22:57:43.442Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T22:57:43.443Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T22:57:43.444Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T22:57:43.445Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T22:57:43.445Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T22:57:43.446Z","userId":"123"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-07T22:57:45.153Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-07T22:57:45.154Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-07T22:57:45.155Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-07T22:57:45.155Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-07T22:57:45.156Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-07T22:57:45.156Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-07T22:57:45.157Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T22:58:07.860Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T22:58:07.863Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T22:58:07.863Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T22:58:07.864Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T22:58:07.865Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T22:58:07.865Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T22:58:07.867Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T22:58:07.868Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T22:58:07.869Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T22:58:07.870Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T22:58:07.870Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:58:08.865Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T22:58:08.864Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T22:58:08.866Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:58:08.869Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T22:58:08.870Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T22:58:08.871Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:58:08.872Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T22:58:08.873Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T22:58:08.873Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:58:08.875Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T22:58:08.876Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T22:58:08.876Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T22:58:08.876Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:58:27.705Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T22:58:27.702Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T22:58:27.706Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:58:27.707Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T22:58:27.708Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T22:58:27.708Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:58:27.709Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T22:58:27.709Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T22:58:27.709Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:58:27.710Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T22:58:27.710Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T22:58:27.710Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T22:58:27.710Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T22:58:28.158Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T22:58:28.159Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T22:58:28.160Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T22:58:28.161Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T22:58:28.161Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T22:58:28.162Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T22:58:28.166Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T22:58:28.167Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T22:58:28.167Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T22:58:28.168Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T22:58:28.168Z","userId":"123"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T22:58:35.792Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T22:58:35.793Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T22:58:35.795Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T22:58:35.801Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T22:58:35.801Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T22:58:35.802Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T22:58:35.803Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T22:58:35.803Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T22:58:35.803Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T22:58:35.804Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T22:58:35.804Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:58:36.583Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T22:58:36.578Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T22:58:36.616Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:58:36.618Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T22:58:36.647Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T22:58:36.647Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:58:36.648Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T22:58:36.649Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T22:58:36.649Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:58:36.650Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T22:58:36.650Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T22:58:36.650Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T22:58:36.650Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-07T22:58:37.655Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-07T22:58:37.656Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-07T22:58:37.656Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-07T22:58:37.657Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-07T22:58:37.658Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-07T22:58:37.658Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-07T22:58:37.659Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:58:50.177Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T22:58:50.170Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T22:58:50.180Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:58:50.190Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-07T22:58:50.191Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T22:58:50.191Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:58:50.192Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-07T22:58:50.192Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-07T22:58:50.192Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:58:50.193Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T22:58:50.194Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T22:58:50.194Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-07T22:58:50.194Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T22:58:51.109Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T22:58:51.111Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T22:58:51.114Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T22:58:51.121Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T22:58:51.122Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T22:58:51.122Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T22:58:51.128Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T22:58:51.130Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T22:58:51.131Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T22:58:51.131Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T22:58:51.131Z","userId":"123"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T22:59:06.109Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T22:59:06.126Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T22:59:06.126Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T22:59:06.128Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T22:59:06.130Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T22:59:06.131Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T22:59:06.139Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T22:59:06.140Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T22:59:06.141Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T22:59:06.142Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T22:59:06.142Z","userId":"123"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T22:59:20.881Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T22:59:20.884Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T22:59:20.884Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T22:59:20.886Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T22:59:20.886Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T22:59:20.887Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T22:59:20.888Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T22:59:20.889Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T22:59:20.890Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T22:59:20.890Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T22:59:20.891Z","userId":"123"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T22:59:32.994Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T22:59:33.002Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T22:59:33.026Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T22:59:33.029Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T22:59:33.030Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T22:59:33.031Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T22:59:33.034Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T22:59:33.036Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T22:59:33.036Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T22:59:33.038Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T22:59:33.041Z","userId":"123"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-07T22:59:35.804Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-07T22:59:35.805Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-07T22:59:35.806Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-07T22:59:35.806Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-07T22:59:35.807Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-07T22:59:35.807Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-07T22:59:35.808Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:59:44.475Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-07T22:59:44.462Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-07T22:59:44.476Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-07T22:59:44.477Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-07T22:59:44.477Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-07T22:59:44.477Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-07T22:59:47.015Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-07T22:59:47.018Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-07T22:59:47.020Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-07T22:59:47.021Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-07T22:59:47.021Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-07T22:59:47.022Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-07T22:59:47.023Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-07T22:59:47.075Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-07T22:59:47.076Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-07T22:59:47.078Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-07T22:59:47.079Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:30:39.302Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T00:30:39.084Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T00:30:39.106Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T00:30:39.108Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T00:30:39.112Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T00:30:39.114Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T00:30:39.116Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T00:30:39.118Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T00:30:39.120Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T00:30:39.121Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T00:30:39.122Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T00:30:39.122Z","userId":"123"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T00:30:39.299Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T00:30:39.303Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:30:39.304Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T00:30:39.305Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T00:30:39.305Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-08T00:30:40.252Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-08T00:30:40.253Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-08T00:30:40.253Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-08T00:30:40.254Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-08T00:30:40.254Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-08T00:30:40.255Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-08T00:30:40.255Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:34:32.350Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T00:34:32.349Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T00:34:32.352Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:34:32.418Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T00:34:32.434Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T00:34:32.434Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T00:34:33.061Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T00:34:33.071Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T00:34:33.073Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T00:34:33.075Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T00:34:33.179Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T00:34:33.180Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T00:34:33.182Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T00:34:33.183Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T00:34:33.184Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T00:34:33.184Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T00:34:33.185Z","userId":"123"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-08T00:34:38.887Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-08T00:34:38.887Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-08T00:34:38.888Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-08T00:34:38.888Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-08T00:34:38.889Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-08T00:34:38.889Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-08T00:34:38.889Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:35:31.233Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T00:35:31.229Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T00:35:31.232Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T00:35:31.235Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T00:35:31.236Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T00:35:31.236Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T00:35:31.236Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T00:35:31.237Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T00:35:31.238Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T00:35:31.238Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T00:35:31.239Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T00:35:31.239Z","userId":"123"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T00:35:31.231Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T00:35:31.234Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:35:31.235Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T00:35:31.235Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T00:35:31.236Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:35:37.483Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T00:35:37.481Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T00:35:37.484Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:35:37.487Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T00:35:37.487Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T00:35:37.487Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T00:35:38.415Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T00:35:38.419Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T00:35:38.420Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T00:35:38.425Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T00:35:38.425Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T00:35:38.434Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T00:35:38.457Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T00:35:38.463Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T00:35:38.466Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T00:35:38.466Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T00:35:38.466Z","userId":"123"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-08T00:35:40.476Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-08T00:35:40.477Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-08T00:35:40.477Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-08T00:35:40.478Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-08T00:35:40.479Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-08T00:35:40.480Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-08T00:35:40.480Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T00:35:47.991Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T00:35:48.030Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T00:35:48.032Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T00:35:48.045Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T00:35:48.058Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T00:35:48.059Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T00:35:48.067Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T00:35:48.068Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T00:35:48.070Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T00:35:48.070Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T00:35:48.087Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:35:48.598Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T00:35:48.591Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T00:35:48.604Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:35:48.610Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T00:35:48.610Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T00:35:48.610Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T00:35:59.509Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T00:35:59.536Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T00:35:59.564Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T00:35:59.569Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T00:35:59.571Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T00:35:59.573Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T00:35:59.575Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T00:35:59.578Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T00:35:59.579Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T00:35:59.580Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T00:35:59.580Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:35:59.655Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T00:35:59.653Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T00:35:59.656Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:35:59.658Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T00:35:59.664Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T00:35:59.664Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-08T00:36:01.151Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-08T00:36:01.152Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-08T00:36:01.152Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-08T00:36:01.153Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-08T00:36:01.154Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-08T00:36:01.154Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-08T00:36:01.154Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:36:21.048Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T00:36:21.041Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T00:36:21.054Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:36:21.058Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T00:36:21.059Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T00:36:21.059Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T00:36:21.045Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T00:36:21.051Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T00:36:21.052Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T00:36:21.057Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T00:36:21.058Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T00:36:21.058Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T00:36:21.062Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T00:36:21.065Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T00:36:21.065Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T00:36:21.066Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T00:36:21.067Z","userId":"123"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T00:36:30.615Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T00:36:30.616Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T00:36:30.616Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T00:36:30.618Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T00:36:30.618Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T00:36:30.618Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T00:36:30.620Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T00:36:30.621Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T00:36:30.622Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T00:36:30.622Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T00:36:30.623Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:36:31.171Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T00:36:31.165Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T00:36:31.173Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:36:31.176Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T00:36:31.178Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T00:36:31.178Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:37:13.662Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T00:37:13.655Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T00:37:13.665Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:37:13.668Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T00:37:13.670Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T00:37:13.670Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T00:37:14.010Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T00:37:14.013Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T00:37:14.014Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T00:37:14.017Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T00:37:14.018Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T00:37:14.019Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T00:37:14.021Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T00:37:14.021Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T00:37:14.021Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T00:37:14.022Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T00:37:14.022Z","userId":"123"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-08T00:37:15.361Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-08T00:37:15.362Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-08T00:37:15.363Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-08T00:37:15.363Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-08T00:37:15.365Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-08T00:37:15.365Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-08T00:37:15.366Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T00:37:46.557Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T00:37:46.561Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T00:37:46.563Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T00:37:46.568Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T00:37:46.569Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T00:37:46.569Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T00:37:46.570Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T00:37:46.571Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T00:37:46.571Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T00:37:46.572Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T00:37:46.572Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:37:47.315Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T00:37:47.310Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T00:37:47.318Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:37:47.320Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T00:37:47.321Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T00:37:47.321Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T00:37:58.570Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T00:37:58.574Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T00:37:58.575Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T00:37:58.577Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T00:37:58.577Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T00:37:58.577Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T00:37:58.580Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T00:37:58.581Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T00:37:58.581Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T00:37:58.582Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T00:37:58.584Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:37:58.601Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T00:37:58.598Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T00:37:58.606Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:37:58.610Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T00:37:58.610Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T00:37:58.611Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T00:38:21.806Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T00:38:21.807Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T00:38:21.813Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T00:38:21.815Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T00:38:21.816Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T00:38:21.817Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T00:38:21.818Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T00:38:21.819Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T00:38:21.819Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T00:38:21.819Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T00:38:21.820Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:38:21.835Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T00:38:21.831Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T00:38:21.836Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:38:21.840Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T00:38:21.841Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T00:38:21.842Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T00:38:35.627Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T00:38:35.630Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T00:38:35.631Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T00:38:35.632Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T00:38:35.633Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T00:38:35.633Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T00:38:35.634Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T00:38:35.635Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T00:38:35.635Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T00:38:35.636Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T00:38:35.636Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:38:35.719Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T00:38:35.711Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T00:38:35.726Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:38:35.734Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T00:38:35.735Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T00:38:35.735Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-08T00:38:36.643Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-08T00:38:36.644Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-08T00:38:36.644Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-08T00:38:36.645Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-08T00:38:36.646Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-08T00:38:36.646Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-08T00:38:36.647Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:51:12.208Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T00:51:12.755Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T00:51:12.757Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T00:51:12.757Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T00:51:12.758Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T00:51:12.758Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T00:51:12.758Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T00:51:12.760Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T00:51:12.764Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T00:51:12.774Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T00:51:12.785Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T00:51:12.785Z","userId":"123"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T00:51:12.205Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T00:51:12.209Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:51:12.210Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T00:51:12.211Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T00:51:12.211Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:51:19.685Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T00:51:19.683Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T00:51:19.687Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:51:19.688Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T00:51:19.689Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T00:51:19.689Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T00:51:19.956Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T00:51:19.957Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T00:51:19.957Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T00:51:20.008Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T00:51:20.009Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T00:51:20.009Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T00:51:20.010Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T00:51:20.011Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T00:51:20.012Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T00:51:20.014Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T00:51:20.014Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:51:51.673Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T00:51:51.671Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T00:51:51.678Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:51:51.776Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T00:51:51.781Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T00:51:51.781Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T00:51:52.011Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T00:51:52.013Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T00:51:52.014Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T00:51:52.016Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T00:51:52.018Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T00:51:52.019Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T00:51:52.023Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T00:51:52.024Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T00:51:52.024Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T00:51:52.024Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T00:51:52.024Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:52:05.233Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T00:52:05.213Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T00:52:05.249Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:52:05.261Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T00:52:05.262Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T00:52:05.263Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T00:52:05.983Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T00:52:05.984Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T00:52:05.986Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T00:52:05.988Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T00:52:05.989Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T00:52:05.990Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T00:52:05.992Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T00:52:05.994Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T00:52:05.995Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T00:52:05.995Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T00:52:05.995Z","userId":"123"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T00:52:19.864Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T00:52:19.865Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T00:52:19.866Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T00:52:19.868Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T00:52:19.868Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T00:52:19.869Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T00:52:19.870Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T00:52:19.870Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T00:52:19.871Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T00:52:19.871Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T00:52:19.871Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:52:20.014Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T00:52:20.012Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T00:52:20.016Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:52:20.022Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T00:52:20.023Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T00:52:20.023Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:52:34.373Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T00:52:34.365Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T00:52:34.390Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:52:34.393Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T00:52:34.393Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T00:52:34.393Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T00:52:34.656Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T00:52:34.660Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T00:52:34.662Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T00:52:34.666Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T00:52:34.667Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T00:52:34.667Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T00:52:34.669Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T00:52:34.670Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T00:52:34.671Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T00:52:34.671Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T00:52:34.672Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:52:52.563Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T00:52:52.560Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T00:52:52.572Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:52:52.573Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T00:52:52.578Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T00:52:52.578Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T00:52:52.646Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T00:52:52.647Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T00:52:52.648Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T00:52:52.651Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T00:52:52.651Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T00:52:52.652Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T00:52:52.658Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T00:52:52.660Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T00:52:52.660Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T00:52:52.661Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T00:52:52.665Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:53:04.625Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T00:53:04.612Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T00:53:04.644Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:53:04.645Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T00:53:04.653Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T00:53:04.653Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T00:53:05.298Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T00:53:05.300Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T00:53:05.300Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T00:53:05.301Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T00:53:05.301Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T00:53:05.301Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T00:53:05.302Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T00:53:05.304Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T00:53:05.306Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T00:53:05.306Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T00:53:05.307Z","userId":"123"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T00:53:17.400Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T00:53:17.433Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T00:53:17.435Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T00:53:17.475Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T00:53:17.506Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T00:53:17.506Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T00:53:17.507Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T00:53:17.508Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T00:53:17.510Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T00:53:17.510Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T00:53:17.511Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:53:17.882Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T00:53:17.881Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T00:53:17.889Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:53:17.891Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T00:53:17.891Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T00:53:17.892Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T00:53:42.587Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T00:53:42.590Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T00:53:42.598Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T00:53:42.600Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T00:53:42.603Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T00:53:42.604Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T00:53:42.609Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T00:53:42.611Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T00:53:42.611Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T00:53:42.612Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T00:53:42.613Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:53:44.171Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T00:53:44.169Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T00:53:44.172Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:53:44.174Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T00:53:44.174Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T00:53:44.174Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T00:53:54.404Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T00:53:54.408Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T00:53:54.409Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T00:53:54.470Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T00:53:54.472Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T00:53:54.472Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T00:53:54.473Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T00:53:54.473Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T00:53:54.474Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T00:53:54.475Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T00:53:54.475Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:53:56.392Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T00:53:56.391Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T00:53:56.417Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:53:56.430Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T00:53:56.430Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T00:53:56.430Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:54:22.549Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T00:54:22.544Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T00:54:22.551Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:54:22.554Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T00:54:22.556Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T00:54:22.556Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T00:54:22.619Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T00:54:22.620Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T00:54:22.620Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T00:54:22.621Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T00:54:22.623Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T00:54:22.623Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T00:54:22.626Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T00:54:22.627Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T00:54:22.627Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T00:54:22.627Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T00:54:22.628Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:54:36.378Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T00:54:36.377Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T00:54:36.384Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:54:36.391Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T00:54:36.391Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T00:54:36.392Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T00:54:36.351Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T00:54:36.354Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T00:54:36.354Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T00:54:36.357Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T00:54:36.357Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T00:54:36.358Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T00:54:36.401Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T00:54:36.404Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T00:54:36.406Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T00:54:36.408Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T00:54:36.422Z","userId":"123"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T00:54:48.633Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T00:54:48.642Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T00:54:48.643Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T00:54:48.647Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T00:54:48.648Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T00:54:48.649Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T00:54:48.657Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T00:54:48.658Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T00:54:48.658Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T00:54:48.658Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T00:54:48.659Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:54:48.980Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T00:54:48.973Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T00:54:48.983Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:54:48.986Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T00:54:48.987Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T00:54:48.987Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T00:55:08.760Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T00:55:08.766Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T00:55:08.766Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T00:55:08.773Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T00:55:08.775Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T00:55:08.778Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T00:55:08.787Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T00:55:08.792Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T00:55:08.795Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T00:55:08.795Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T00:55:08.798Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:55:09.099Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T00:55:09.095Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T00:55:09.102Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:55:09.105Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T00:55:09.107Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T00:55:09.107Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T00:59:31.491Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T00:59:31.495Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T00:59:31.495Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T00:59:31.514Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T00:59:31.517Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T00:59:31.518Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T00:59:31.519Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T00:59:31.520Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T00:59:31.520Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T00:59:31.520Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T00:59:31.520Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:59:36.670Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T00:59:36.657Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T00:59:36.677Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T00:59:36.682Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T00:59:36.683Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T00:59:36.683Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T01:00:15.753Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T01:00:15.748Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T01:00:15.755Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T01:00:15.759Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T01:00:15.759Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T01:00:15.759Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T01:00:17.223Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T01:00:17.231Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T01:00:17.237Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T01:00:17.241Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T01:00:17.241Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T01:00:17.246Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T01:00:17.251Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T01:00:17.253Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T01:00:17.253Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T01:00:17.253Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T01:00:17.254Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T01:00:29.174Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T01:00:29.168Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T01:00:29.177Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T01:00:29.182Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T01:00:29.182Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T01:00:29.183Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T01:00:30.185Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T01:00:30.187Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T01:00:30.187Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T01:00:30.188Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T01:00:30.188Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T01:00:30.188Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T01:00:30.198Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T01:00:30.204Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T01:00:30.207Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T01:00:30.208Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T01:00:30.208Z","userId":"123"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T01:00:51.659Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T01:00:51.670Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T01:00:51.672Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T01:00:51.673Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T01:00:51.673Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T01:00:51.673Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T01:00:51.675Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T01:00:51.675Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T01:00:51.675Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T01:00:51.676Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T01:00:51.676Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T01:00:53.416Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T01:00:53.412Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T01:00:53.422Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T01:00:53.426Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T01:00:53.426Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T01:00:53.426Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T01:01:06.068Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T01:01:06.061Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T01:01:06.070Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T01:01:06.073Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T01:01:06.074Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T01:01:06.074Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T01:01:08.504Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T01:01:08.513Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T01:01:08.535Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T01:01:08.536Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T01:01:08.537Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T01:01:08.537Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T01:01:08.544Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T01:01:08.545Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T01:01:08.546Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T01:01:08.546Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T01:01:08.546Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T01:01:22.566Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T01:01:22.562Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T01:01:22.570Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T01:01:22.584Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T01:01:22.584Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T01:01:22.584Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T01:01:24.132Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T01:01:24.135Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T01:01:24.136Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T01:01:24.140Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T01:01:24.140Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T01:01:24.141Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T01:01:24.143Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T01:01:24.144Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T01:01:24.145Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T01:01:24.146Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T01:01:24.147Z","userId":"123"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-08T01:01:51.469Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-08T01:01:51.470Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-08T01:01:51.470Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-08T01:01:51.470Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-08T01:01:51.471Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-08T01:01:51.472Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-08T01:01:51.472Z"}
{"errors":{"0":"Por favor ingresa un email v√°lido"},"level":"warn","message":"Error de validaci√≥n en contacto de emergencia","timestamp":"2025-12-08T01:01:56.991Z","userId":"693623848da1d904bbd840be"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T01:02:38.899Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T01:02:38.895Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T01:02:38.909Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T01:02:38.914Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T01:02:38.916Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T01:02:38.916Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T01:02:41.238Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T01:02:41.240Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T01:02:41.241Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T01:02:41.242Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T01:02:41.242Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T01:02:41.242Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T01:02:41.247Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T01:02:41.250Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T01:02:41.251Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T01:02:41.251Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T01:02:41.251Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T01:03:09.200Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T01:03:09.190Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T01:03:09.202Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T01:03:09.205Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T01:03:09.206Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T01:03:09.206Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T01:03:09.365Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T01:03:09.372Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T01:03:09.372Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T01:03:09.373Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T01:03:09.374Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T01:03:09.374Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T01:03:09.375Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T01:03:09.378Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T01:03:09.381Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T01:03:09.382Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T01:03:09.384Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T01:08:35.343Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T01:08:35.340Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T01:08:35.346Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T01:08:35.350Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T01:08:35.351Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T01:08:35.351Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T01:08:35.865Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T01:08:35.872Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T01:08:35.873Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T01:08:35.881Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T01:08:35.882Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T01:08:35.882Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T01:08:35.890Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T01:08:35.893Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T01:08:35.894Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T01:08:35.894Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T01:08:35.896Z","userId":"123"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-08T01:09:30.735Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-08T01:09:30.736Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-08T01:09:30.737Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-08T01:09:30.737Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-08T01:09:30.738Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-08T01:09:30.738Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-08T01:09:30.739Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T01:09:46.532Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T01:09:46.534Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T01:09:46.534Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T01:09:46.537Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T01:09:46.537Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T01:09:46.538Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T01:09:46.557Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T01:09:46.559Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T01:09:46.561Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T01:09:46.562Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T01:09:46.563Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T01:09:46.912Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T01:09:46.908Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T01:09:46.920Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T01:09:46.924Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T01:09:46.925Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T01:09:46.925Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T01:10:11.714Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T01:10:11.713Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T01:10:11.715Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T01:10:11.716Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T01:10:11.717Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T01:10:11.717Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T01:10:14.078Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T01:10:14.087Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T01:10:14.089Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T01:10:14.090Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T01:10:14.091Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T01:10:14.092Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T01:10:14.095Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T01:10:14.095Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T01:10:14.096Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T01:10:14.096Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T01:10:14.096Z","userId":"123"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T01:10:28.131Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T01:10:28.133Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T01:10:28.134Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T01:10:28.144Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T01:10:28.144Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T01:10:28.144Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T01:10:28.146Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T01:10:28.146Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T01:10:28.146Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T01:10:28.147Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T01:10:28.147Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T01:10:28.263Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T01:10:28.254Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T01:10:28.270Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T01:10:28.272Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T01:10:28.272Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T01:10:28.272Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T02:35:57.630Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T02:35:57.633Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T02:35:57.635Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T02:35:57.636Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T02:35:57.636Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T02:35:57.637Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T02:35:57.641Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T02:35:57.643Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T02:35:57.643Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T02:35:57.643Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T02:35:57.643Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T02:35:58.900Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T02:35:58.868Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T02:35:58.901Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T02:35:58.903Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T02:35:58.904Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T02:35:58.906Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T02:37:11.713Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T02:37:11.724Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T02:37:11.725Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T02:37:11.731Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T02:37:11.733Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T02:37:11.733Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T02:37:11.743Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T02:37:11.744Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T02:37:11.745Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T02:37:11.745Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T02:37:11.745Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T02:37:12.075Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T02:37:12.074Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T02:37:12.121Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T02:37:12.136Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T02:37:12.137Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T02:37:12.138Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-08T02:37:20.924Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-08T02:37:20.926Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-08T02:37:20.926Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-08T02:37:20.926Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-08T02:37:20.927Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-08T02:37:20.927Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-08T02:37:20.928Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-08T02:37:39.661Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-08T02:37:39.662Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-08T02:37:39.662Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-08T02:37:39.662Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-08T02:37:39.663Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-08T02:37:39.664Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-08T02:37:39.664Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:34:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T02:37:53.821Z"}
{"error":{"code":"TEST_ERROR","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-08T02:37:53.815Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-08T02:37:53.830Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Internal error","name":"Error","stack":"Error: Internal error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:54:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-08T02:37:53.834Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Internal error","name":"AppError","statusCode":500,"timestamp":"2025-12-08T02:37:53.835Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-08T02:37:53.835Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-08T02:37:53.892Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-08T02:37:53.896Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-08T02:37:53.897Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-08T02:37:53.901Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-08T02:37:53.907Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-08T02:37:53.908Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-08T02:37:54.031Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-08T02:37:54.115Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-08T02:37:54.116Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-08T02:37:54.118Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-08T02:37:54.119Z","userId":"123"}
