{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T13:18:34.341Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T13:18:34.342Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T13:18:34.342Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T13:18:34.342Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T13:18:34.352Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T13:18:34.352Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T13:18:34.353Z"}
{"level":"info","message":"üöÄ Servidor corriendo en 0.0.0.0:5001","timestamp":"2025-12-01T13:18:34.360Z"}
{"level":"info","message":"üìù Ambiente: test","timestamp":"2025-12-01T13:18:34.360Z"}
{"level":"info","message":"üîó URL Frontend: http://localhost:3000","timestamp":"2025-12-01T13:18:34.360Z"}
{"level":"info","message":"üåê Servidor accesible desde: cualquier IP (Render)","timestamp":"2025-12-01T13:18:34.360Z"}
{"level":"info","message":"üîç Render detectado: S√≠","timestamp":"2025-12-01T13:18:34.360Z"}
{"level":"info","message":"‚úÖ Servicio de recordatorios de contactos de emergencia iniciado (cada 24 horas)","timestamp":"2025-12-01T13:18:34.360Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T13:18:34.431Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T13:18:34.431Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T13:20:03.548Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T13:20:03.549Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T13:20:03.549Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T13:20:03.550Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T13:20:03.559Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T13:20:03.560Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T13:20:03.560Z"}
{"level":"info","message":"üöÄ Servidor corriendo en 0.0.0.0:5001","timestamp":"2025-12-01T13:20:03.562Z"}
{"level":"info","message":"üìù Ambiente: test","timestamp":"2025-12-01T13:20:03.562Z"}
{"level":"info","message":"üîó URL Frontend: http://localhost:3000","timestamp":"2025-12-01T13:20:03.563Z"}
{"level":"info","message":"üåê Servidor accesible desde: cualquier IP (Render)","timestamp":"2025-12-01T13:20:03.563Z"}
{"level":"info","message":"üîç Render detectado: S√≠","timestamp":"2025-12-01T13:20:03.563Z"}
{"level":"info","message":"‚úÖ Servicio de recordatorios de contactos de emergencia iniciado (cada 24 horas)","timestamp":"2025-12-01T13:20:03.563Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T13:20:03.573Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T13:20:03.573Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T13:20:05.137Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T13:44:33.040Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T13:44:33.040Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T13:44:33.041Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T13:44:33.041Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T13:44:33.041Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T13:44:33.052Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T13:44:33.053Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T13:44:33.053Z"}
{"level":"info","message":"üöÄ Servidor corriendo en 0.0.0.0:5001","timestamp":"2025-12-01T13:44:33.056Z"}
{"level":"info","message":"üìù Ambiente: test","timestamp":"2025-12-01T13:44:33.056Z"}
{"level":"info","message":"üîó URL Frontend: http://localhost:3000","timestamp":"2025-12-01T13:44:33.057Z"}
{"level":"info","message":"üåê Servidor accesible desde: cualquier IP (Render)","timestamp":"2025-12-01T13:44:33.057Z"}
{"level":"info","message":"üîç Render detectado: S√≠","timestamp":"2025-12-01T13:44:33.057Z"}
{"level":"info","message":"‚úÖ Servicio de recordatorios de contactos de emergencia iniciado (cada 24 horas)","timestamp":"2025-12-01T13:44:33.057Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T13:44:33.041Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T13:44:33.041Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T13:44:33.041Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T13:44:33.052Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T13:44:33.052Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T13:44:33.053Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T13:44:33.128Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T13:44:33.128Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T13:44:33.129Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T13:44:33.129Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T13:44:33.910Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T13:44:34.619Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T14:22:26.163Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T14:22:26.166Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T14:22:26.166Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T14:22:26.167Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T14:22:26.167Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T14:22:26.167Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T14:22:26.169Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T14:22:26.169Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T14:22:26.169Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T14:22:26.169Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T14:22:26.170Z","userId":"123"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T14:22:26.174Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T14:22:27.453Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T14:22:27.454Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T14:22:27.454Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T14:22:27.454Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T14:22:27.454Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T14:22:27.465Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T14:22:27.465Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T14:22:27.466Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T14:22:27.455Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T14:22:27.455Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T14:22:27.455Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T14:22:27.465Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T14:22:27.466Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T14:22:27.466Z"}
{"level":"info","message":"üöÄ Servidor corriendo en 0.0.0.0:5001","timestamp":"2025-12-01T14:22:27.471Z"}
{"level":"info","message":"üìù Ambiente: test","timestamp":"2025-12-01T14:22:27.471Z"}
{"level":"info","message":"üîó URL Frontend: http://localhost:3000","timestamp":"2025-12-01T14:22:27.471Z"}
{"level":"info","message":"üåê Servidor accesible desde: cualquier IP (Render)","timestamp":"2025-12-01T14:22:27.471Z"}
{"level":"info","message":"üîç Render detectado: S√≠","timestamp":"2025-12-01T14:22:27.471Z"}
{"level":"info","message":"‚úÖ Servicio de recordatorios de contactos de emergencia iniciado (cada 24 horas)","timestamp":"2025-12-01T14:22:27.471Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T14:22:27.519Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T14:22:27.519Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T14:22:27.519Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T14:22:27.519Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T14:22:29.043Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T14:22:31.388Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T14:24:36.625Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T14:24:36.627Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T14:24:36.627Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T14:24:36.628Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T14:24:36.628Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T14:24:36.629Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T14:24:36.630Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T14:24:36.632Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T14:24:36.632Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T14:24:36.633Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T14:24:36.633Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T14:24:36.627Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T14:24:36.625Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T14:24:36.628Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T14:24:36.629Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T14:24:36.630Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T14:24:36.630Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T14:24:36.631Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T14:24:36.631Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T14:24:36.631Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T14:24:36.632Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T14:24:36.633Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T14:24:36.633Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T14:24:36.633Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T14:24:38.062Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T14:24:38.062Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T14:24:38.063Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T14:24:38.063Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T14:24:38.064Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T14:24:38.074Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T14:24:38.074Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T14:24:38.075Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T14:24:38.063Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T14:24:38.063Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T14:24:38.064Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T14:24:38.074Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T14:24:38.074Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T14:24:38.075Z"}
{"level":"info","message":"üöÄ Servidor corriendo en 0.0.0.0:5001","timestamp":"2025-12-01T14:24:38.077Z"}
{"level":"info","message":"üìù Ambiente: test","timestamp":"2025-12-01T14:24:38.077Z"}
{"level":"info","message":"üîó URL Frontend: http://localhost:3000","timestamp":"2025-12-01T14:24:38.078Z"}
{"level":"info","message":"üåê Servidor accesible desde: cualquier IP (Render)","timestamp":"2025-12-01T14:24:38.078Z"}
{"level":"info","message":"üîç Render detectado: S√≠","timestamp":"2025-12-01T14:24:38.078Z"}
{"level":"info","message":"‚úÖ Servicio de recordatorios de contactos de emergencia iniciado (cada 24 horas)","timestamp":"2025-12-01T14:24:38.078Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T14:24:38.147Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T14:24:38.147Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T14:24:38.147Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T14:24:38.147Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T14:24:39.649Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T14:24:44.961Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T14:36:53.678Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T14:36:53.675Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T14:36:53.681Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T14:36:53.683Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T14:36:53.684Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T14:36:53.684Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T14:36:53.684Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T14:36:53.685Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T14:36:53.685Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T14:36:53.686Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T14:36:53.686Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T14:36:53.686Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T14:36:53.686Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T14:36:53.728Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T14:36:53.730Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T14:36:53.730Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T14:36:53.731Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T14:36:53.732Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T14:36:53.732Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T14:36:53.733Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T14:36:53.733Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T14:36:53.734Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T14:36:53.734Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T14:36:53.734Z","userId":"123"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T14:36:54.877Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T14:36:54.878Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T14:36:54.878Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T14:36:54.878Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T14:36:54.888Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T14:36:54.888Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T14:36:54.889Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T14:36:54.877Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T14:36:54.878Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T14:36:54.878Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T14:36:54.879Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T14:36:54.888Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T14:36:54.889Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T14:36:54.889Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T14:36:54.930Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T14:36:54.930Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T14:36:54.930Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T14:36:54.930Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T14:36:56.458Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T14:37:01.807Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T14:55:16.082Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T14:55:16.090Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T14:55:16.092Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T14:55:16.094Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T14:55:16.094Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T14:55:16.095Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T14:55:16.097Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T14:55:16.098Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T14:55:16.099Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T14:55:16.099Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T14:55:16.099Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T14:55:16.206Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T14:55:16.204Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T14:55:16.208Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T14:55:16.210Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T14:55:16.212Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T14:55:16.212Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T14:55:16.213Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T14:55:16.213Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T14:55:16.213Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T14:55:16.216Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T14:55:16.216Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T14:55:16.216Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T14:55:16.216Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T14:55:17.893Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T14:55:17.894Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T14:55:17.894Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T14:55:17.894Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T14:55:17.895Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T14:55:17.895Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T14:55:17.906Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T14:55:17.907Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T14:55:17.908Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T14:55:17.895Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T14:55:17.895Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T14:55:17.895Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T14:55:17.907Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T14:55:17.908Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T14:55:17.908Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T14:55:17.894Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T14:55:17.895Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T14:55:17.895Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T14:55:17.907Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T14:55:17.907Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T14:55:17.908Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T14:55:17.969Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T14:55:17.969Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T14:55:17.969Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T14:55:17.969Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T14:55:17.969Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T14:55:17.969Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T14:55:18.614Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T14:55:19.485Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T14:55:24.798Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T14:58:00.243Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T14:58:00.249Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T14:58:00.250Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T14:58:00.251Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T14:58:00.252Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T14:58:00.252Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T14:58:00.259Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T14:58:00.261Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T14:58:00.262Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T14:58:00.263Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T14:58:00.263Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T14:58:00.409Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T14:58:00.408Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T14:58:00.411Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T14:58:00.414Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T14:58:00.414Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T14:58:00.414Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T14:58:00.415Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T14:58:00.415Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T14:58:00.415Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T14:58:00.415Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T14:58:00.415Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T14:58:00.415Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T14:58:00.415Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T14:58:01.561Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T14:58:01.560Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T14:58:01.559Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T14:58:01.560Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T14:58:01.561Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T14:58:01.561Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T14:58:01.574Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T14:58:01.574Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T14:58:01.574Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T14:58:01.562Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T14:58:01.562Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T14:58:01.562Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T14:58:01.573Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T14:58:01.574Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T14:58:01.574Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T14:58:01.560Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T14:58:01.560Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T14:58:01.560Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T14:58:01.571Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T14:58:01.572Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T14:58:01.572Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T14:58:01.589Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T14:58:01.589Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T14:58:01.589Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T14:58:01.589Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T14:58:01.589Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T14:58:01.589Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T14:58:02.188Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T14:58:03.146Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T14:58:08.409Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T15:01:31.866Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T15:01:31.869Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T15:01:31.869Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T15:01:31.870Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T15:01:31.870Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T15:01:31.871Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T15:01:31.872Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T15:01:31.873Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T15:01:31.873Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T15:01:31.873Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T15:01:31.874Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:01:32.008Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T15:01:32.005Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T15:01:32.010Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:01:32.011Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T15:01:32.011Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T15:01:32.011Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:01:32.012Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T15:01:32.012Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T15:01:32.012Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:01:32.012Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T15:01:32.012Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T15:01:32.012Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T15:01:32.013Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:01:33.219Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:01:33.220Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:01:33.222Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:01:33.220Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:01:33.220Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:01:33.221Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:01:33.231Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:01:33.232Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:01:33.232Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:01:33.221Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:01:33.222Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:01:33.222Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:01:33.232Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:01:33.233Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:01:33.233Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:01:33.222Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:01:33.223Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:01:33.223Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:01:33.234Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:01:33.234Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:01:33.235Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:01:33.265Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:01:33.265Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:01:33.265Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:01:33.265Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:01:33.265Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:01:33.265Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:01:34.069Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:01:34.806Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:01:40.246Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T15:04:57.503Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T15:04:57.510Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T15:04:57.511Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T15:04:57.512Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T15:04:57.513Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T15:04:57.514Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T15:04:57.515Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T15:04:57.517Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T15:04:57.518Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T15:04:57.520Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T15:04:57.520Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:04:57.655Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T15:04:57.653Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T15:04:57.657Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:04:57.658Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T15:04:57.659Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T15:04:57.659Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:04:57.660Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T15:04:57.661Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T15:04:57.661Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:04:57.662Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T15:04:57.662Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T15:04:57.662Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T15:04:57.663Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:04:58.896Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:04:58.896Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:04:58.898Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:04:58.897Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:04:58.897Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:04:58.897Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:04:58.911Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:04:58.911Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:04:58.912Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:04:58.897Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:04:58.897Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:04:58.898Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:04:58.909Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:04:58.909Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:04:58.910Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:04:58.901Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:04:58.901Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:04:58.902Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:04:58.912Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:04:58.913Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:04:58.913Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:04:58.947Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:04:58.948Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:04:58.948Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:04:58.948Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:04:58.948Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:04:58.948Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:04:59.675Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:05:00.486Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:05:05.736Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:08:36.526Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:08:36.527Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:08:36.527Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:08:36.527Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:08:36.540Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:08:36.540Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:08:36.540Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:08:36.526Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:08:36.527Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:08:36.527Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:08:36.528Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:08:36.544Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:08:36.544Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:08:36.546Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:08:36.527Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:08:36.582Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:08:36.583Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:08:36.582Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:08:36.536Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:08:36.537Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:08:36.537Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:08:36.570Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:08:36.570Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:08:36.571Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:08:36.541Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:08:36.583Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:08:36.542Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:08:36.543Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:08:36.543Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:08:36.567Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:08:36.568Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:08:36.568Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:08:36.604Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:08:36.604Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:08:36.609Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:08:36.609Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:08:36.600Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:08:36.601Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:08:36.602Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:08:36.603Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:08:36.621Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:08:36.622Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:08:36.622Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:08:36.660Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:08:36.661Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:08:36.809Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:08:36.810Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:08:36.810Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:08:36.811Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:08:36.820Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:08:36.820Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:08:36.820Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:08:36.826Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:08:36.826Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:08:36.834Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:08:36.835Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:08:36.835Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:08:36.835Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:08:36.843Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:08:36.843Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:08:36.843Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:08:36.853Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:08:36.854Z"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"Route not found","method":"GET","path":"/api/therapeutic-techniques/immediate","timestamp":"2025-12-01T15:08:37.189Z"}
{"context":{"ip":"::ffff:127.0.0.1","method":"GET","path":"/api/therapeutic-techniques/immediate","url":"/api/therapeutic-techniques/immediate"},"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: GET /api/therapeutic-techniques/immediate","name":"AppError","stack":"AppError: Ruta no encontrada: GET /api/therapeutic-techniques/immediate\n    at notFoundHandler (/Users/marceloull/Documents/Anto/backend/middleware/errorHandler.js:135:17)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:794:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:676:5"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:08:37.190Z"}
{"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: GET /api/therapeutic-techniques/immediate","name":"AppError","statusCode":404,"timestamp":"2025-12-01T15:08:37.189Z"},"level":"error","message":"Error response sent","method":"GET","path":"/api/therapeutic-techniques/immediate","statusCode":404,"timestamp":"2025-12-01T15:08:37.191Z"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"Route not found","method":"GET","path":"/api/therapeutic-techniques/cbt","timestamp":"2025-12-01T15:08:37.200Z"}
{"context":{"ip":"::ffff:127.0.0.1","method":"GET","path":"/api/therapeutic-techniques/cbt","url":"/api/therapeutic-techniques/cbt"},"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: GET /api/therapeutic-techniques/cbt","name":"AppError","stack":"AppError: Ruta no encontrada: GET /api/therapeutic-techniques/cbt\n    at notFoundHandler (/Users/marceloull/Documents/Anto/backend/middleware/errorHandler.js:135:17)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:794:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:676:5"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:08:37.200Z"}
{"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: GET /api/therapeutic-techniques/cbt","name":"AppError","statusCode":404,"timestamp":"2025-12-01T15:08:37.200Z"},"level":"error","message":"Error response sent","method":"GET","path":"/api/therapeutic-techniques/cbt","statusCode":404,"timestamp":"2025-12-01T15:08:37.200Z"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"Route not found","method":"GET","path":"/api/therapeutic-techniques/dbt","timestamp":"2025-12-01T15:08:37.227Z"}
{"context":{"ip":"::ffff:127.0.0.1","method":"GET","path":"/api/therapeutic-techniques/dbt","url":"/api/therapeutic-techniques/dbt"},"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: GET /api/therapeutic-techniques/dbt","name":"AppError","stack":"AppError: Ruta no encontrada: GET /api/therapeutic-techniques/dbt\n    at notFoundHandler (/Users/marceloull/Documents/Anto/backend/middleware/errorHandler.js:135:17)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:794:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:676:5"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:08:37.227Z"}
{"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: GET /api/therapeutic-techniques/dbt","name":"AppError","statusCode":404,"timestamp":"2025-12-01T15:08:37.227Z"},"level":"error","message":"Error response sent","method":"GET","path":"/api/therapeutic-techniques/dbt","statusCode":404,"timestamp":"2025-12-01T15:08:37.227Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:08:37.229Z"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"Route not found","method":"GET","path":"/api/therapeutic-techniques/act","timestamp":"2025-12-01T15:08:37.241Z"}
{"context":{"ip":"::ffff:127.0.0.1","method":"GET","path":"/api/therapeutic-techniques/act","url":"/api/therapeutic-techniques/act"},"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: GET /api/therapeutic-techniques/act","name":"AppError","stack":"AppError: Ruta no encontrada: GET /api/therapeutic-techniques/act\n    at notFoundHandler (/Users/marceloull/Documents/Anto/backend/middleware/errorHandler.js:135:17)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:794:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:676:5"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:08:37.242Z"}
{"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: GET /api/therapeutic-techniques/act","name":"AppError","statusCode":404,"timestamp":"2025-12-01T15:08:37.241Z"},"level":"error","message":"Error response sent","method":"GET","path":"/api/therapeutic-techniques/act","statusCode":404,"timestamp":"2025-12-01T15:08:37.242Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:08:37.256Z"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"Route not found","method":"GET","path":"/api/habits/692daf75be17d072fdd36a79","timestamp":"2025-12-01T15:08:37.322Z"}
{"context":{"ip":"::ffff:127.0.0.1","method":"GET","path":"/api/habits/692daf75be17d072fdd36a79","url":"/api/habits/692daf75be17d072fdd36a79","userId":"692daf75be17d072fdd36a77"},"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: GET /api/habits/692daf75be17d072fdd36a79","name":"AppError","stack":"AppError: Ruta no encontrada: GET /api/habits/692daf75be17d072fdd36a79\n    at notFoundHandler (/Users/marceloull/Documents/Anto/backend/middleware/errorHandler.js:135:17)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:265:14)\n    at next (/Users/marceloull/Documents/Anto/backend/middleware/auth.js:81:5)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:794:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:676:5"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:08:37.324Z"}
{"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: GET /api/habits/692daf75be17d072fdd36a79","name":"AppError","statusCode":404,"timestamp":"2025-12-01T15:08:37.322Z"},"level":"error","message":"Error response sent","method":"GET","path":"/api/habits/692daf75be17d072fdd36a79","statusCode":404,"timestamp":"2025-12-01T15:08:37.325Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:08:37.443Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:08:37.473Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:08:37.743Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T15:08:37.734Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T15:08:37.736Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T15:08:37.736Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T15:08:37.738Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T15:08:37.738Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T15:08:37.739Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T15:08:37.740Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T15:08:37.741Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T15:08:37.742Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T15:08:37.742Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T15:08:37.743Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:08:37.776Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T15:08:37.775Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T15:08:37.777Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:08:37.780Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T15:08:37.781Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T15:08:37.781Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:08:37.781Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T15:08:37.782Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T15:08:37.782Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:08:37.782Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T15:08:37.782Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T15:08:37.782Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T15:08:37.784Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:08:38.404Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:08:43.483Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:16:56.936Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:16:56.938Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:16:56.938Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:16:56.939Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:16:56.963Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:16:56.963Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:16:56.964Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:16:56.992Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:16:56.994Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:16:56.994Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:16:56.995Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:16:57.022Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:16:57.023Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:16:57.025Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:16:57.020Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:16:57.024Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:16:57.026Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:16:57.028Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:16:57.049Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:16:57.050Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:16:57.051Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:16:57.091Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:16:57.091Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:16:57.094Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:16:57.091Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:16:57.091Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:16:57.095Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:16:57.085Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:16:57.088Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:16:57.089Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:16:57.089Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:16:57.113Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:16:57.113Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:16:57.114Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:16:57.133Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:16:57.086Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:16:57.134Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:16:57.088Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:16:57.088Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:16:57.090Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:16:57.128Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:16:57.129Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:16:57.129Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:16:57.145Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:16:57.145Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:16:57.357Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:16:57.358Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:16:57.358Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:16:57.358Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:16:57.366Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:16:57.366Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:16:57.366Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:16:57.374Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:16:57.375Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:16:57.428Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:16:57.429Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:16:57.429Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:16:57.430Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:16:57.440Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:16:57.441Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:16:57.442Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:16:57.451Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:16:57.451Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:16:57.788Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:16:57.809Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:16:57.855Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:16:58.139Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:16:58.151Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T15:16:58.320Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T15:16:58.322Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T15:16:58.323Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T15:16:58.323Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T15:16:58.324Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T15:16:58.324Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T15:16:58.325Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T15:16:58.326Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T15:16:58.326Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T15:16:58.326Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T15:16:58.326Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:16:58.328Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T15:16:58.326Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T15:16:58.329Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:16:58.330Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T15:16:58.330Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T15:16:58.330Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:16:58.331Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T15:16:58.331Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T15:16:58.331Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:16:58.331Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T15:16:58.331Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T15:16:58.331Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T15:16:58.331Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:16:58.606Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:17:03.962Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:27:43.818Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:27:43.822Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:27:43.823Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:27:43.823Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:27:43.843Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:27:43.844Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:27:43.844Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:27:43.863Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:27:43.863Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:27:43.843Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:27:43.833Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:27:43.844Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:27:43.845Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:27:43.845Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:27:43.865Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:27:43.866Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:27:43.866Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:27:43.879Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:27:43.834Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:27:43.835Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:27:43.835Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:27:43.857Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:27:43.858Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:27:43.859Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:27:43.876Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:27:43.876Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:27:43.879Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:27:43.890Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:27:43.891Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:27:43.891Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:27:43.891Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:27:43.907Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:27:43.908Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:27:43.908Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:27:43.890Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:27:43.891Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:27:43.891Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:27:43.891Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:27:43.911Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:27:43.911Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:27:43.912Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:27:43.933Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:27:43.933Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:27:43.936Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:27:43.936Z"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"Route not found","method":"GET","path":"/api/payments/subscription/status","timestamp":"2025-12-01T15:27:44.515Z"}
{"context":{"ip":"::ffff:127.0.0.1","method":"GET","path":"/api/payments/subscription/status","url":"/api/payments/subscription/status"},"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: GET /api/payments/subscription/status","name":"AppError","stack":"AppError: Ruta no encontrada: GET /api/payments/subscription/status\n    at notFoundHandler (/Users/marceloull/Documents/Anto/backend/middleware/errorHandler.js:135:17)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:794:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:676:5"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:27:44.519Z"}
{"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: GET /api/payments/subscription/status","name":"AppError","statusCode":404,"timestamp":"2025-12-01T15:27:44.515Z"},"level":"error","message":"Error response sent","method":"GET","path":"/api/payments/subscription/status","statusCode":404,"timestamp":"2025-12-01T15:27:44.519Z"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"Route not found","method":"GET","path":"/api/payments/subscription/status","timestamp":"2025-12-01T15:27:44.548Z"}
{"context":{"ip":"::ffff:127.0.0.1","method":"GET","path":"/api/payments/subscription/status","url":"/api/payments/subscription/status"},"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: GET /api/payments/subscription/status","name":"AppError","stack":"AppError: Ruta no encontrada: GET /api/payments/subscription/status\n    at notFoundHandler (/Users/marceloull/Documents/Anto/backend/middleware/errorHandler.js:135:17)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:794:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:676:5"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:27:44.548Z"}
{"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: GET /api/payments/subscription/status","name":"AppError","statusCode":404,"timestamp":"2025-12-01T15:27:44.548Z"},"level":"error","message":"Error response sent","method":"GET","path":"/api/payments/subscription/status","statusCode":404,"timestamp":"2025-12-01T15:27:44.549Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:27:44.810Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:27:44.912Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:27:44.941Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:27:45.010Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:27:45.012Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:27:45.012Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:27:45.013Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:27:45.029Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:27:45.029Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:27:45.030Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:27:45.046Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:27:45.046Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:27:45.054Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:27:45.133Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:27:45.622Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:27:45.624Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:27:45.624Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:27:45.625Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:27:45.641Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:27:45.641Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:27:45.642Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:27:45.664Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:27:45.664Z"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"Route not found","method":"POST","path":"/api/cloudinary/upload","timestamp":"2025-12-01T15:27:45.718Z"}
{"context":{"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/cloudinary/upload","url":"/api/cloudinary/upload"},"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: POST /api/cloudinary/upload","name":"AppError","stack":"AppError: Ruta no encontrada: POST /api/cloudinary/upload\n    at notFoundHandler (/Users/marceloull/Documents/Anto/backend/middleware/errorHandler.js:135:17)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:794:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:676:5"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:27:45.719Z"}
{"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: POST /api/cloudinary/upload","name":"AppError","statusCode":404,"timestamp":"2025-12-01T15:27:45.717Z"},"level":"error","message":"Error response sent","method":"POST","path":"/api/cloudinary/upload","statusCode":404,"timestamp":"2025-12-01T15:27:45.720Z"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"Route not found","method":"POST","path":"/api/cloudinary/upload","timestamp":"2025-12-01T15:27:45.823Z"}
{"context":{"ip":"::ffff:127.0.0.1","method":"POST","path":"/api/cloudinary/upload","url":"/api/cloudinary/upload"},"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: POST /api/cloudinary/upload","name":"AppError","stack":"AppError: Ruta no encontrada: POST /api/cloudinary/upload\n    at notFoundHandler (/Users/marceloull/Documents/Anto/backend/middleware/errorHandler.js:135:17)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:794:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:676:5"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:27:45.824Z"}
{"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: POST /api/cloudinary/upload","name":"AppError","statusCode":404,"timestamp":"2025-12-01T15:27:45.823Z"},"level":"error","message":"Error response sent","method":"POST","path":"/api/cloudinary/upload","statusCode":404,"timestamp":"2025-12-01T15:27:45.824Z"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"Route not found","method":"DELETE","path":"/api/cloudinary/test-public-id","timestamp":"2025-12-01T15:27:45.898Z"}
{"context":{"ip":"::ffff:127.0.0.1","method":"DELETE","path":"/api/cloudinary/test-public-id","url":"/api/cloudinary/test-public-id"},"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: DELETE /api/cloudinary/test-public-id","name":"AppError","stack":"AppError: Ruta no encontrada: DELETE /api/cloudinary/test-public-id\n    at notFoundHandler (/Users/marceloull/Documents/Anto/backend/middleware/errorHandler.js:135:17)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:794:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:676:5"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:27:45.898Z"}
{"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: DELETE /api/cloudinary/test-public-id","name":"AppError","statusCode":404,"timestamp":"2025-12-01T15:27:45.898Z"},"level":"error","message":"Error response sent","method":"DELETE","path":"/api/cloudinary/test-public-id","statusCode":404,"timestamp":"2025-12-01T15:27:45.899Z"}
{"ip":"::ffff:127.0.0.1","level":"warn","message":"Route not found","method":"DELETE","path":"/api/cloudinary/","timestamp":"2025-12-01T15:27:45.942Z"}
{"context":{"ip":"::ffff:127.0.0.1","method":"DELETE","path":"/api/cloudinary/","url":"/api/cloudinary/"},"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: DELETE /api/cloudinary/","name":"AppError","stack":"AppError: Ruta no encontrada: DELETE /api/cloudinary/\n    at notFoundHandler (/Users/marceloull/Documents/Anto/backend/middleware/errorHandler.js:135:17)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:265:14)\n    at Function.handle (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/marceloull/Documents/Anto/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:794:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/marceloull/Documents/Anto/backend/node_modules/express-rate-limit/dist/index.mjs:676:5"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:27:45.942Z"}
{"error":{"code":"NOT_FOUND","message":"Ruta no encontrada: DELETE /api/cloudinary/","name":"AppError","statusCode":404,"timestamp":"2025-12-01T15:27:45.941Z"},"level":"error","message":"Error response sent","method":"DELETE","path":"/api/cloudinary/","statusCode":404,"timestamp":"2025-12-01T15:27:45.943Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:27:45.970Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:27:46.419Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:27:46.421Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:27:46.421Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:27:46.422Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:27:46.452Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:27:46.452Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:27:46.453Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:27:46.523Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:27:46.524Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:27:47.002Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:27:47.005Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:27:47.006Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:27:47.006Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:27:47.053Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:27:47.053Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:27:47.053Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:27:47.053Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:27:47.055Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:27:47.055Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:27:47.055Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:27:47.085Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:27:47.086Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:27:47.096Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:27:47.113Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:27:47.116Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:27:47.129Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:27:47.129Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:27:47.487Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:27:47.489Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:27:47.489Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:27:47.490Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:27:47.511Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:27:47.511Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:27:47.512Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:27:47.526Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T15:27:47.524Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T15:27:47.528Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:27:47.531Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T15:27:47.531Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T15:27:47.532Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:27:47.533Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T15:27:47.533Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T15:27:47.533Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:27:47.534Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T15:27:47.534Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T15:27:47.535Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T15:27:47.535Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:27:47.542Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:27:47.543Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T15:27:47.551Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T15:27:47.552Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T15:27:47.552Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T15:27:47.554Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T15:27:47.556Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T15:27:47.557Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T15:27:47.559Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T15:27:47.560Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T15:27:47.561Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T15:27:47.561Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T15:27:47.561Z","userId":"123"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:27:47.786Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:27:47.865Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:27:48.054Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:27:48.126Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:27:52.954Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:34:48.458Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:34:48.459Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:34:48.463Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:34:48.464Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:34:48.464Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:34:48.488Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:34:48.489Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:34:48.491Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:34:48.454Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:34:48.464Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:34:48.464Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:34:48.465Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:34:48.495Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:34:48.495Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:34:48.496Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:34:48.464Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:34:48.464Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:34:48.465Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:34:48.487Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:34:48.489Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:34:48.490Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:34:48.511Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:34:48.463Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:34:48.466Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:34:48.466Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:34:48.467Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:34:48.501Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:34:48.503Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:34:48.505Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:34:48.514Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:34:48.514Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:34:48.511Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:34:48.515Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:34:48.517Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:34:48.517Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:34:48.456Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:34:48.464Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:34:48.464Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:34:48.465Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:34:48.511Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:34:48.511Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:34:48.512Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:34:48.514Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:34:48.535Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:34:48.535Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:34:48.494Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:34:48.506Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:34:48.507Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:34:48.507Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:34:48.537Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:34:48.538Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:34:48.539Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:34:48.560Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:34:48.560Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:34:49.291Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:34:49.355Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:34:49.357Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:34:49.358Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:34:49.358Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:34:49.372Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:34:49.373Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:34:49.373Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:34:49.389Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:34:49.389Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:34:49.507Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:34:49.511Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:34:49.527Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:34:49.556Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:34:49.607Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:34:50.702Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:34:50.707Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:34:50.708Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:34:50.709Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:34:50.727Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:34:50.728Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:34:50.730Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:34:50.753Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:34:50.754Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:34:51.138Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:34:51.139Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:34:51.140Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:34:51.141Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:34:51.154Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:34:51.155Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:34:51.157Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:34:51.185Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:34:51.186Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:34:51.341Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:34:51.342Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:34:51.343Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:34:51.343Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:34:51.363Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:34:51.363Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:34:51.364Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:34:51.380Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:34:51.381Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:34:51.435Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:34:51.413Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T15:34:51.424Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T15:34:51.436Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:34:51.438Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T15:34:51.438Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T15:34:51.439Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:34:51.439Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T15:34:51.439Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T15:34:51.439Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:34:51.441Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T15:34:51.442Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T15:34:51.442Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T15:34:51.444Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:34:51.414Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:34:51.415Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:34:51.416Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:34:51.439Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:34:51.439Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:34:51.440Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:34:51.463Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:34:51.463Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T15:34:51.552Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T15:34:51.553Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T15:34:51.553Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T15:34:51.554Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T15:34:51.555Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T15:34:51.555Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T15:34:51.556Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T15:34:51.556Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T15:34:51.557Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T15:34:51.557Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T15:34:51.557Z","userId":"123"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:34:51.764Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:34:52.145Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:34:52.154Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:34:52.337Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:34:56.493Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:39:19.943Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:39:19.944Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:39:19.944Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:39:19.945Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:39:19.968Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:39:19.970Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:39:19.971Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:39:19.954Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:39:19.955Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:39:19.956Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:39:19.957Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:39:19.977Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:39:19.979Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:39:19.981Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:39:19.999Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:39:19.999Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:39:19.999Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:39:20.000Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:39:19.995Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:39:19.996Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:39:19.996Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:39:19.997Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:39:20.022Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:39:20.022Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:39:20.023Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:39:20.012Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:39:20.013Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:39:20.014Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:39:20.015Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:39:20.035Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:39:20.036Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:39:20.037Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:39:20.051Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:39:20.052Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:39:20.028Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:39:20.029Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:39:20.029Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:39:20.030Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:39:20.049Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:39:20.052Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:39:20.052Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:39:20.058Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:39:20.058Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:39:20.078Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:39:20.078Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:39:20.305Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:39:20.306Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:39:20.306Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:39:20.307Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:39:20.317Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:39:20.318Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:39:20.319Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:39:20.326Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:39:20.326Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:39:20.716Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:39:20.718Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:39:20.718Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:39:20.718Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:39:20.730Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:39:20.730Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:39:20.732Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:39:20.746Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:39:20.747Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:39:20.860Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:39:21.075Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:39:21.107Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:39:21.148Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:39:21.152Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:39:22.094Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:39:22.465Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:39:22.466Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:39:22.467Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:39:22.467Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:39:22.494Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:39:22.496Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:39:22.498Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:39:22.549Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:39:22.550Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:39:23.572Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:39:23.759Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:39:23.763Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:39:23.763Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:39:23.764Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:39:23.812Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:39:23.813Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:39:23.819Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:39:23.911Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:39:23.912Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:39:24.001Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:39:24.013Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:39:24.014Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:39:24.015Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:39:24.076Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:39:24.077Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:39:24.078Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:39:24.220Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:39:24.223Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:39:24.224Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:39:24.226Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:39:24.267Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:39:24.277Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:39:24.280Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:39:24.831Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:39:24.841Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:39:24.761Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:39:24.761Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:39:26.296Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:39:26.366Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T15:39:26.475Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T15:39:26.477Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T15:39:26.477Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T15:39:26.485Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T15:39:26.485Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T15:39:26.486Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T15:39:26.514Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T15:39:26.516Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T15:39:26.517Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T15:39:26.517Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T15:39:26.517Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:39:26.517Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T15:39:26.511Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T15:39:26.518Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:39:26.521Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T15:39:26.521Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T15:39:26.522Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:39:26.522Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T15:39:26.523Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T15:39:26.523Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:39:26.524Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T15:39:26.524Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T15:39:26.524Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T15:39:26.525Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:39:26.766Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:39:28.135Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:43:15.023Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:43:15.023Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:43:15.025Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:43:15.026Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:43:15.026Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:43:15.039Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:43:15.039Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:43:15.039Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:43:15.026Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:43:15.026Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:43:15.026Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:43:15.039Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:43:15.040Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:43:15.041Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:43:15.054Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:43:15.054Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:43:15.052Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:43:15.052Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:43:15.049Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:43:15.050Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:43:15.050Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:43:15.050Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:43:15.062Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:43:15.063Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:43:15.064Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:43:15.077Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:43:15.077Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:43:15.065Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:43:15.066Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:43:15.067Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:43:15.067Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:43:15.083Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:43:15.084Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:43:15.085Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:43:15.073Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:43:15.074Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:43:15.074Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:43:15.075Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:43:15.090Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:43:15.090Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:43:15.091Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:43:15.102Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:43:15.102Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:43:15.084Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:43:15.110Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:43:15.085Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:43:15.086Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:43:15.086Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:43:15.102Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:43:15.102Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:43:15.103Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:43:15.111Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:43:15.118Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:43:15.118Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:43:16.066Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:43:16.116Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:43:16.119Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:43:16.166Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:43:16.666Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:43:16.785Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:43:16.786Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:43:16.787Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:43:16.788Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:43:16.810Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:43:16.811Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:43:16.812Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:43:16.906Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:43:16.907Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:43:17.471Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:43:17.473Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:43:17.474Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:43:17.474Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:43:17.488Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:43:17.488Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:43:17.489Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:43:17.500Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:43:17.501Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:43:17.533Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:43:17.534Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:43:17.534Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:43:17.534Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:43:17.551Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:43:17.551Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:43:17.553Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:43:17.580Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:43:17.580Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:43:17.595Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:43:17.611Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:43:17.614Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:43:17.616Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:43:17.617Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:43:17.628Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:43:17.629Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:43:17.629Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:43:17.683Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:43:17.683Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:43:18.261Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:43:18.406Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:43:18.514Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:43:18.659Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T15:43:18.658Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T15:43:18.660Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:43:18.663Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T15:43:18.663Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T15:43:18.663Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:43:18.664Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T15:43:18.664Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T15:43:18.664Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:43:18.665Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T15:43:18.665Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T15:43:18.665Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T15:43:18.665Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T15:43:18.791Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T15:43:18.795Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T15:43:18.795Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T15:43:18.796Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T15:43:18.796Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T15:43:18.797Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T15:43:18.798Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T15:43:18.798Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T15:43:18.810Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T15:43:18.811Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T15:43:18.811Z","userId":"123"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:43:22.320Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:55:37.164Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:55:37.171Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:55:37.175Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:55:37.175Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:55:37.176Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:55:37.193Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:55:37.194Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:55:37.196Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:55:37.175Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:55:37.175Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:55:37.176Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:55:37.191Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:55:37.192Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:55:37.194Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:55:37.222Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:55:37.174Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:55:37.226Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:55:37.222Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:55:37.226Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:55:37.175Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:55:37.175Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:55:37.176Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:55:37.213Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:55:37.215Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:55:37.216Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:55:37.240Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:55:37.241Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:55:37.233Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:55:37.234Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:55:37.234Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:55:37.235Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:55:37.249Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:55:37.250Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:55:37.251Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:55:37.269Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:55:37.269Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:55:37.403Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:55:37.405Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:55:37.405Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:55:37.405Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:55:37.414Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:55:37.414Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:55:37.415Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:55:37.421Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:55:37.421Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:55:37.515Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:55:37.516Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:55:37.516Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:55:37.516Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:55:37.523Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:55:37.523Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:55:37.524Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:55:37.530Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:55:37.530Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:55:38.007Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:55:38.026Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:55:38.213Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:55:38.268Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:55:38.929Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:55:38.931Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:55:38.932Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:55:38.933Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:55:38.950Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:55:38.951Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:55:38.951Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:55:38.975Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:55:38.975Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:55:39.005Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:55:39.205Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:55:39.206Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:55:39.206Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:55:39.207Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:55:39.217Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:55:39.217Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:55:39.218Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:55:39.224Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:55:39.224Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:55:39.269Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:55:39.270Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:55:39.270Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:55:39.271Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:55:39.278Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:55:39.279Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:55:39.279Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:55:39.286Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:55:39.286Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:55:39.649Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:55:39.842Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:55:39.843Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:55:39.843Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:55:39.844Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:55:39.870Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:55:39.871Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:55:39.872Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:55:39.889Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:55:39.890Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:55:39.989Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:55:40.010Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:55:40.516Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T15:55:40.493Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T15:55:40.495Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T15:55:40.496Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T15:55:40.499Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T15:55:40.500Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T15:55:40.501Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T15:55:40.503Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T15:55:40.504Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T15:55:40.504Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T15:55:40.504Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T15:55:40.505Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:55:40.592Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T15:55:40.591Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T15:55:40.593Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:55:40.597Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T15:55:40.598Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T15:55:40.598Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:55:40.598Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T15:55:40.599Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T15:55:40.599Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T15:55:40.599Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T15:55:40.600Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T15:55:40.600Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T15:55:40.600Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T15:55:41.049Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T15:55:41.050Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T15:55:41.050Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T15:55:41.050Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T15:55:41.057Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T15:55:41.058Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T15:55:41.058Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T15:55:41.065Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T15:55:41.065Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:55:41.748Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T15:55:44.165Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:00:06.300Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:00:06.301Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:00:06.302Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:00:06.303Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:00:06.318Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:00:06.319Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:00:06.319Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:00:06.341Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:00:06.341Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:00:06.320Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:00:06.322Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:00:06.322Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:00:06.323Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:00:06.343Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:00:06.344Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:00:06.345Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:00:06.331Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:00:06.332Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:00:06.333Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:00:06.334Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:00:06.351Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:00:06.351Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:00:06.352Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:00:06.365Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:00:06.337Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:00:06.338Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:00:06.338Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:00:06.338Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:00:06.354Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:00:06.355Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:00:06.356Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:00:06.369Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:00:06.365Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:00:06.370Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:00:06.380Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:00:06.380Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:00:06.572Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:00:06.573Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:00:06.573Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:00:06.573Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:00:06.580Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:00:06.581Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:00:06.581Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:00:06.587Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:00:06.588Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:00:06.630Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:00:06.630Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:00:06.631Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:00:06.631Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:00:06.638Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:00:06.638Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:00:06.638Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:00:06.646Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:00:06.647Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:00:07.225Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:00:07.304Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:00:07.460Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:00:08.100Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:00:08.101Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:00:08.101Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:00:08.102Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:00:08.111Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:00:08.111Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:00:08.112Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:00:08.124Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:00:08.124Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:00:08.129Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:00:08.217Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:00:08.218Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:00:08.218Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:00:08.218Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:00:08.225Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:00:08.226Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:00:08.226Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:00:08.255Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:00:08.256Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:00:08.726Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:00:08.748Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:00:08.813Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:00:08.923Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:00:08.925Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:00:08.925Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:00:08.926Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:00:08.946Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:00:08.947Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:00:08.948Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:00:08.975Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:00:08.975Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:00:09.730Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:00:09.733Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:00:09.733Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:00:09.734Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:00:09.760Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:00:09.760Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:00:09.761Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:00:09.781Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:00:09.781Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:00:10.013Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:00:10.005Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:00:10.007Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:00:10.008Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:00:10.009Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:00:10.037Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:00:10.037Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:00:10.038Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:00:10.047Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:00:10.047Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T16:00:10.299Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T16:00:10.306Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T16:00:10.308Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T16:00:10.311Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T16:00:10.312Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T16:00:10.312Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T16:00:10.314Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T16:00:10.316Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T16:00:10.317Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T16:00:10.318Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T16:00:10.318Z","userId":"123"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:00:10.461Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:00:10.466Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T16:00:10.465Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T16:00:10.468Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:00:10.471Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T16:00:10.472Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T16:00:10.472Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:00:10.473Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T16:00:10.473Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T16:00:10.473Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:00:10.474Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T16:00:10.474Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T16:00:10.474Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T16:00:10.474Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:00:10.773Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:00:13.270Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:07:57.211Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:07:57.212Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:07:57.212Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:07:57.212Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:07:57.224Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:07:57.225Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:07:57.225Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:07:57.247Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:07:57.248Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:07:57.250Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:07:57.249Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:07:57.251Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:07:57.252Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:07:57.252Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:07:57.272Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:07:57.273Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:07:57.273Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:07:57.250Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:07:57.250Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:07:57.251Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:07:57.251Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:07:57.271Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:07:57.272Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:07:57.273Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:07:57.285Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:07:57.252Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:07:57.252Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:07:57.252Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:07:57.273Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:07:57.274Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:07:57.276Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:07:57.285Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:07:57.268Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:07:57.269Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:07:57.270Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:07:57.270Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:07:57.285Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:07:57.285Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:07:57.286Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:07:57.295Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:07:57.296Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:07:57.297Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:07:57.295Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:07:57.296Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:07:57.298Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:07:57.768Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:07:57.769Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:07:57.770Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:07:57.770Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:07:57.777Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:07:57.778Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:07:57.778Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:07:57.788Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:07:57.788Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:07:58.220Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:07:58.484Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:07:58.570Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:07:58.860Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:07:59.001Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:07:59.001Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:07:59.002Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:07:59.002Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:07:59.014Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:07:59.014Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:07:59.014Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:07:59.052Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:07:59.052Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:07:59.517Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:07:59.518Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:07:59.519Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:07:59.519Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:07:59.544Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:07:59.544Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:07:59.545Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:07:59.567Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:07:59.567Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:07:59.671Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:07:59.672Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:07:59.672Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:07:59.673Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:07:59.686Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:07:59.686Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:07:59.687Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:07:59.719Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:07:59.719Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:07:59.871Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:08:00.137Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:08:00.421Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:08:00.719Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:08:00.720Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:08:00.720Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:08:00.720Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:08:00.737Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:08:00.738Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:08:00.738Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:08:00.748Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:08:00.748Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:08:01.057Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:08:01.058Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:08:01.059Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:08:01.060Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:08:01.083Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:08:01.083Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:08:01.085Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:08:01.099Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:08:01.099Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:08:01.383Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:08:01.389Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T16:08:01.750Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T16:08:01.751Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T16:08:01.752Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T16:08:01.752Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T16:08:01.753Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T16:08:01.753Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T16:08:01.754Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T16:08:01.754Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T16:08:01.755Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T16:08:01.755Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T16:08:01.755Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:08:01.760Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T16:08:01.759Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T16:08:01.761Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:08:01.762Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T16:08:01.763Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T16:08:01.763Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:08:01.763Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T16:08:01.763Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T16:08:01.763Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:08:01.763Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T16:08:01.763Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T16:08:01.764Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T16:08:01.764Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:08:01.779Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:08:04.107Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:38:02.315Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:38:02.316Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:38:02.317Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:38:02.318Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:38:02.340Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:38:02.341Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:38:02.342Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:38:02.341Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:38:02.344Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:38:02.345Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:38:02.346Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:38:02.364Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:38:02.365Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:38:02.365Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:38:02.355Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:38:02.357Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:38:02.358Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:38:02.358Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:38:02.382Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:38:02.383Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:38:02.384Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:38:02.368Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:38:02.369Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:38:02.369Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:38:02.370Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:38:02.398Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:38:02.399Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:38:02.400Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:38:02.376Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:38:02.386Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:38:02.377Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:38:02.378Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:38:02.378Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:38:02.401Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:38:02.402Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:38:02.403Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:38:02.388Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:38:02.388Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:38:02.388Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:38:02.414Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:38:02.414Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:38:02.415Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:38:02.386Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:38:02.388Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:38:02.390Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:38:02.391Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:38:02.419Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:38:02.420Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:38:02.420Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:38:02.503Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:38:02.503Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:38:02.503Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:38:02.504Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:38:02.505Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:38:02.506Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:38:02.506Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:38:02.503Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:38:02.503Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:38:02.505Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:38:02.504Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:38:02.507Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:38:02.504Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:38:02.506Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:38:03.200Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:38:03.255Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:38:03.798Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:38:04.000Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:38:04.057Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:38:04.058Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:38:04.058Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:38:04.058Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:38:04.070Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:38:04.070Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:38:04.071Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:38:04.081Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:38:04.081Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:38:04.136Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:38:04.136Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:38:04.137Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:38:04.137Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:38:04.153Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:38:04.153Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:38:04.154Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:38:04.168Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:38:04.169Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:38:04.682Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:38:05.133Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:38:05.133Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:38:05.134Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:38:05.134Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:38:05.143Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:38:05.143Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:38:05.144Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:38:05.155Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:38:05.156Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:38:05.249Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:38:05.310Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:38:05.312Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:38:05.312Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:38:05.312Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:38:05.321Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:38:05.321Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:38:05.322Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:38:05.331Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:38:05.331Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:38:05.773Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:38:06.091Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T16:38:06.632Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T16:38:06.634Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T16:38:06.634Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T16:38:06.635Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T16:38:06.635Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T16:38:06.635Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T16:38:06.636Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T16:38:06.637Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T16:38:06.637Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T16:38:06.637Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T16:38:06.637Z","userId":"123"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:38:06.764Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:38:06.851Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T16:38:06.849Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T16:38:06.852Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:38:06.853Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T16:38:06.853Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T16:38:06.853Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:38:06.854Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T16:38:06.854Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T16:38:06.854Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:38:06.854Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T16:38:06.854Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T16:38:06.854Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T16:38:06.855Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:38:09.439Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:38:33.391Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:45:11.390Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:45:11.390Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:45:11.392Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:45:11.392Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:45:11.392Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:45:11.412Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:45:11.412Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:45:11.412Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:45:11.389Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:45:11.392Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:45:11.392Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:45:11.393Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:45:11.411Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:45:11.412Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:45:11.412Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:45:11.392Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:45:11.392Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:45:11.392Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:45:11.414Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:45:11.414Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:45:11.415Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:45:11.391Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:45:11.392Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:45:11.392Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:45:11.392Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:45:11.414Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:45:11.414Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:45:11.415Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:45:11.404Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:45:11.400Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:45:11.401Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:45:11.401Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:45:11.404Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:45:11.424Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:45:11.425Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:45:11.425Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:45:11.406Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:45:11.406Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:45:11.407Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:45:11.427Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:45:11.429Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:45:11.429Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:45:11.494Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:45:11.494Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:45:11.494Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:45:11.496Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:45:11.496Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:45:11.496Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:45:11.494Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:45:11.494Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:45:11.494Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:45:11.496Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:45:11.497Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:45:11.496Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:45:12.227Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:45:12.467Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:45:12.894Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:45:13.007Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:45:13.170Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:45:13.171Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:45:13.171Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:45:13.172Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:45:13.180Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:45:13.180Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:45:13.181Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:45:13.195Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:45:13.195Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:45:13.362Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:45:13.363Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:45:13.363Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:45:13.363Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:45:13.375Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:45:13.375Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:45:13.376Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:45:13.382Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:45:13.382Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:45:13.763Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:45:13.764Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:45:13.764Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:45:13.764Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:45:13.773Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:45:13.773Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:45:13.773Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:45:13.782Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:45:13.782Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:45:13.807Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:45:13.808Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:45:13.808Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:45:13.809Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:45:13.817Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:45:13.817Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:45:13.818Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:45:13.825Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:45:13.825Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:45:13.897Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:45:14.027Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:45:14.427Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:45:14.436Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:45:14.705Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:45:14.705Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:45:14.705Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:45:14.706Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:45:14.713Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:45:14.714Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:45:14.714Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:45:14.728Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:45:14.728Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:45:15.338Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:45:15.415Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T16:45:15.414Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T16:45:15.417Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:45:15.418Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T16:45:15.418Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T16:45:15.419Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:45:15.419Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T16:45:15.419Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T16:45:15.420Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:45:15.420Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T16:45:15.420Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T16:45:15.420Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T16:45:15.421Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:45:15.515Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T16:45:15.530Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T16:45:15.531Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T16:45:15.532Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T16:45:15.533Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T16:45:15.533Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T16:45:15.534Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T16:45:15.535Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T16:45:15.535Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T16:45:15.536Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T16:45:15.536Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T16:45:15.536Z","userId":"123"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:45:18.316Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:49:47.190Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:49:47.191Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:49:47.192Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:49:47.192Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:49:47.209Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:49:47.210Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:49:47.210Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:49:47.228Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:49:47.228Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:49:47.216Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:49:47.218Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:49:47.218Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:49:47.219Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:49:47.239Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:49:47.240Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:49:47.241Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:49:47.224Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:49:47.225Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:49:47.225Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:49:47.226Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:49:47.256Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:49:47.256Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:49:47.257Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:49:47.226Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:49:47.227Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:49:47.227Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:49:47.227Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:49:47.253Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:49:47.254Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:49:47.254Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:49:47.270Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:49:47.270Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:49:47.273Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:49:47.271Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:49:47.271Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:49:47.273Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:49:47.270Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:49:47.272Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:49:47.273Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:49:47.273Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:49:47.289Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:49:47.289Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:49:47.291Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:49:47.317Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:49:47.318Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:49:47.787Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:49:47.788Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:49:47.788Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:49:47.789Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:49:47.799Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:49:47.800Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:49:47.801Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:49:47.811Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:49:47.811Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:49:48.166Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:49:48.518Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:49:48.611Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:49:48.833Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:49:49.388Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:49:49.389Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:49:49.390Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:49:49.390Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:49:49.422Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:49:49.422Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:49:49.423Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:49:49.430Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:49:49.430Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:49:49.507Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:49:49.508Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:49:49.508Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:49:49.509Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:49:49.521Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:49:49.521Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:49:49.522Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:49:49.528Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:49:49.528Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:49:49.688Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:49:49.688Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:49:49.689Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:49:49.689Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:49:49.696Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:49:49.696Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:49:49.696Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:49:49.702Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:49:49.702Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:49:50.134Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:49:50.198Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:49:50.352Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:49:50.800Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:49:50.801Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:49:50.801Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:49:50.801Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:49:50.810Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:49:50.810Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:49:50.810Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:49:50.819Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:49:50.820Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T16:49:51.104Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T16:49:51.105Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T16:49:51.105Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T16:49:51.106Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T16:49:51.117Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T16:49:51.117Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T16:49:51.118Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T16:49:51.128Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T16:49:51.128Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:49:51.326Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:49:51.439Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T16:49:51.671Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T16:49:51.673Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T16:49:51.673Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T16:49:51.674Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T16:49:51.674Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T16:49:51.675Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T16:49:51.676Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T16:49:51.676Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T16:49:51.677Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T16:49:51.677Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T16:49:51.677Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:49:51.697Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T16:49:51.696Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T16:49:51.698Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:49:51.700Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T16:49:51.700Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T16:49:51.701Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:49:51.701Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T16:49:51.701Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T16:49:51.701Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:49:51.702Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T16:49:51.702Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T16:49:51.702Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T16:49:51.705Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:49:51.727Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T16:49:54.146Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T16:58:35.730Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T16:58:35.733Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T16:58:35.734Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T16:58:35.736Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T16:58:35.736Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T16:58:35.737Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T16:58:35.738Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T16:58:35.738Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T16:58:35.739Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T16:58:35.739Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T16:58:35.739Z","userId":"123"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:58:35.862Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T16:58:35.860Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T16:58:35.864Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:58:35.865Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T16:58:35.865Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T16:58:35.866Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:58:35.866Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T16:58:35.866Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T16:58:35.866Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T16:58:35.867Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T16:58:35.867Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T16:58:35.867Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T16:58:35.867Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T17:06:36.169Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T17:06:36.156Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T17:06:36.174Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T17:06:36.184Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T17:06:36.185Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T17:06:36.186Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T17:06:36.189Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T17:06:36.190Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T17:06:36.190Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T17:06:36.191Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T17:06:36.192Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T17:06:36.192Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T17:06:36.193Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T17:06:36.284Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T17:06:36.295Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T17:06:36.297Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T17:06:36.300Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T17:06:36.302Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T17:06:36.303Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T17:06:36.309Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T17:06:36.311Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T17:06:36.312Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T17:06:36.324Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T17:06:36.325Z","userId":"123"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:07:12.958Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:07:12.974Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:07:12.975Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:07:12.976Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:07:13.197Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:07:13.253Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:07:13.284Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:07:13.040Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:07:13.122Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:07:13.123Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:07:13.124Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:07:13.341Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:07:13.344Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:07:13.358Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:07:13.190Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:07:13.206Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:07:13.208Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:07:13.244Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:07:13.680Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:07:13.834Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:07:13.850Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:07:13.125Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:07:13.193Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:07:13.195Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:07:13.196Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:07:13.644Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:07:13.657Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:07:13.660Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:07:14.384Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:07:14.440Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:07:14.442Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:07:14.457Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:07:14.606Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:07:14.607Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:07:14.614Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:07:14.953Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:07:14.959Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:07:14.961Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:07:14.962Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:07:15.047Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:07:15.049Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:07:15.053Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:07:15.349Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:07:15.363Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:07:15.369Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:07:15.370Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:07:15.416Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:07:15.350Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:07:15.364Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:07:15.409Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:07:15.698Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:07:15.422Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:07:15.699Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:07:15.573Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:07:16.533Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:07:16.542Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:07:16.543Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:07:16.545Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:07:17.092Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:07:17.095Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:07:17.099Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:07:18.923Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:07:18.924Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:07:21.513Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:07:26.413Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:07:30.816Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:07:31.572Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:07:31.580Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:07:31.582Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:07:31.599Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:07:31.830Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:07:31.837Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:07:31.840Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:07:32.076Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:07:32.323Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:07:32.324Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:07:33.993Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:07:33.996Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:07:33.997Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:07:33.999Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:07:34.081Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:07:34.089Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:07:34.091Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:07:34.784Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:07:34.786Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:07:44.044Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:08:08.002Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:08:08.087Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:08:08.089Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:08:08.093Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:08:08.455Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:08:08.458Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:08:08.463Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:08:09.306Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:08:10.683Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:08:10.685Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:08:16.439Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:08:17.668Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:08:17.674Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:08:17.675Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:08:17.677Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:08:18.058Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:08:18.092Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:08:18.133Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:08:21.614Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:08:21.820Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:08:25.327Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:08:41.125Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:08:46.082Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:08:54.773Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:32:10.659Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:32:10.660Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:32:10.662Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:32:10.663Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:32:10.684Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:32:10.684Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:32:10.685Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:32:10.715Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:32:10.715Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:32:10.682Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:32:10.685Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:32:10.686Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:32:10.686Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:32:10.713Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:32:10.714Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:32:10.725Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:32:10.769Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:32:10.769Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:32:10.723Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:32:10.712Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:32:10.725Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:32:10.726Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:32:10.726Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:32:10.759Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:32:10.761Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:32:10.762Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:32:10.714Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:32:10.714Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:32:10.715Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:32:10.779Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:32:10.780Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:32:10.780Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:32:10.789Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:32:10.790Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:32:10.756Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:32:10.761Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:32:10.761Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:32:10.762Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:32:10.790Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:32:10.791Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:32:10.793Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:32:10.763Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:32:10.768Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:32:10.768Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:32:10.768Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:32:10.796Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:32:10.797Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:32:10.798Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:32:10.852Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:32:10.852Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:32:10.853Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:32:10.853Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:32:10.853Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:32:10.854Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:32:11.380Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:32:11.622Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:32:11.623Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:32:11.624Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:32:11.624Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:32:11.633Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:32:11.633Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:32:11.633Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:32:11.650Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:32:11.650Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:32:11.916Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:32:11.943Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:32:12.163Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:32:12.488Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:32:12.485Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:32:12.486Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:32:12.486Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:32:12.487Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:32:12.498Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:32:12.499Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:32:12.499Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:32:12.509Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:32:12.509Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:32:13.384Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:32:13.385Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:32:13.385Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:32:13.385Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:32:13.397Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:32:13.398Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:32:13.399Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:32:13.410Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:32:13.411Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:32:13.436Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:32:13.436Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:32:13.437Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:32:13.437Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:32:13.454Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:32:13.454Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:32:13.456Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:32:13.484Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:32:13.484Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:32:13.552Z"}
{"level":"info","message":"üîß Inicializando servidor...","timestamp":"2025-12-01T17:32:13.622Z"}
{"level":"info","message":"üìã Puerto configurado: 5001","timestamp":"2025-12-01T17:32:13.623Z"}
{"level":"info","message":"üåç Ambiente: test","timestamp":"2025-12-01T17:32:13.623Z"}
{"level":"info","message":"‚úÖ Rutas / y /health registradas","timestamp":"2025-12-01T17:32:13.624Z"}
{"level":"info","message":"üìã Registrando rutas de la API...","timestamp":"2025-12-01T17:32:13.631Z"}
{"level":"info","message":"‚úÖ Todas las rutas registradas","timestamp":"2025-12-01T17:32:13.632Z"}
{"level":"info","message":"‚úÖ Swagger configurado en /api-docs","timestamp":"2025-12-01T17:32:13.632Z"}
{"level":"info","message":"‚úÖ Conexi√≥n exitosa a MongoDB","timestamp":"2025-12-01T17:32:13.640Z"}
{"level":"info","message":"üìä Base de datos: anto-test","timestamp":"2025-12-01T17:32:13.640Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:32:14.080Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:32:14.224Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","stack":"AppError: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:13:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T17:32:14.532Z"}
{"error":{"code":"BAD_REQUEST","message":"Test error","name":"AppError","statusCode":400,"timestamp":"2025-12-01T17:32:14.529Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T17:32:14.534Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"name":"ValidationError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T17:32:14.535Z"}
{"error":{"code":"VALIDATION_ERROR","errors":{"0":{"field":"email","message":"Email inv√°lido"}},"message":"Error de validaci√≥n","name":"ValidationError","statusCode":400,"timestamp":"2025-12-01T17:32:14.536Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":400,"timestamp":"2025-12-01T17:32:14.536Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Invalid token","name":"JsonWebTokenError"},"level":"error","message":"Error en request","timestamp":"2025-12-01T17:32:14.536Z"}
{"error":{"code":"UNAUTHORIZED","message":"Token inv√°lido","name":"AuthenticationError","statusCode":401,"timestamp":"2025-12-01T17:32:14.536Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":401,"timestamp":"2025-12-01T17:32:14.536Z"}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/test","userAgent":"test-agent"},"error":{"message":"Unknown error","name":"Error","stack":"Error: Unknown error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/middleware/errorHandler.test.js:104:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Error en request","timestamp":"2025-12-01T17:32:14.537Z"}
{"error":{"code":"INTERNAL_SERVER_ERROR","message":"Unknown error","name":"AppError","statusCode":500,"timestamp":"2025-12-01T17:32:14.537Z"},"level":"error","message":"Error response sent","method":"GET","path":"/test","statusCode":500,"timestamp":"2025-12-01T17:32:14.537Z"}
{"level":"warn","message":"Route not found","method":"GET","path":"/api/nonexistent","timestamp":"2025-12-01T17:32:14.537Z"}
{"level":"error","message":"Test error message","timestamp":"2025-12-01T17:32:14.577Z"}
{"level":"warn","message":"Test warning message","timestamp":"2025-12-01T17:32:14.578Z"}
{"level":"info","message":"Test info message","timestamp":"2025-12-01T17:32:14.578Z"}
{"action":"test","level":"info","message":"Test message","timestamp":"2025-12-01T17:32:14.579Z","userId":"123"}
{"apiKey":"[REDACTED]","level":"info","message":"Test message","password":"[REDACTED]","timestamp":"2025-12-01T17:32:14.579Z","token":"[REDACTED]","user":{"email":"test@example.com","password":"[REDACTED]"}}
{"context":{"ip":"127.0.0.1","method":"GET","path":"/api/test","url":"/api/test","userAgent":"test-agent","userId":"123"},"level":"info","message":"Request received","timestamp":"2025-12-01T17:32:14.579Z"}
{"context":{"ip":"127.0.0.1","method":"POST","path":"/api/test","url":"/api/test","userAgent":"test-agent"},"error":{"message":"Test error","name":"Error","stack":"Error: Test error\n    at Object.<anonymous> (/Users/marceloull/Documents/Anto/backend/tests/unit/utils/logger.test.js:89:21)\n    at Promise.then.completed (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/marceloull/Documents/Anto/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/marceloull/Documents/Anto/backend/node_modules/jest-runner/build/testWorker.js:106:12)"},"level":"error","message":"Request error","timestamp":"2025-12-01T17:32:14.583Z"}
{"collection":"users","level":"info","message":"Database: find","timestamp":"2025-12-01T17:32:14.583Z"}
{"level":"info","message":"External Service [OpenAI]: generate response","model":"gpt-4","timestamp":"2025-12-01T17:32:14.584Z"}
{"level":"info","message":"Auth: login","timestamp":"2025-12-01T17:32:14.584Z","userId":"123"}
{"level":"info","message":"Payment: subscription_created","plan":"monthly","timestamp":"2025-12-01T17:32:14.584Z","userId":"123"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:32:14.997Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:32:15.241Z"}
{"level":"warn","message":"‚ö†Ô∏è MongoDB desconectado. Intentando reconectar...","timestamp":"2025-12-01T17:32:18.733Z"}
